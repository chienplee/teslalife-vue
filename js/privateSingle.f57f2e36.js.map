{"version":3,"sources":["webpack:///./src/components/utilities/Emoji.vue","webpack:///./src/components/utilities/Emoji.vue?4081","webpack:///./src/view/apps/chat/overview/SingleGroupChat.vue","webpack:///./src/view/apps/chat/overview/SingleGroupChat.vue?d8de","webpack:///./src/view/apps/chat/overview/SingleChat.vue","webpack:///./src/view/apps/chat/overview/SingleChat.vue?d349","webpack:///./node_modules/emoji-picker-element/picker.js","webpack:///./src/static/img/chat-author sync ^\\.\\/.*$","webpack:///./src/view/apps/chat/style.js","webpack:///./src/view/apps/chat/overview/SingleChat.vue?0f2f","webpack:///./node_modules/emoji-picker-element/database.js","webpack:///./src/static/img/avatar/chat-auth.png"],"names":["OnEmojiClick","class","props","emojiClick","func","def","emoji","console","log","setup","e","value","detail","unicode","__exports__","render","to","role","pickerShow","setPickerShow","button","key","overlay","type","size","title","as","name","src","alt","singleContent","length","index","time","email","content","id","style","me","moment","format","action","placement","handleSubmit","fileList","fileList2","onEmojiClick","onPickerShow","handleChange","placeholder","inputValue","attachment","SingleGroupChat","components","SingleChatWrapper","MessageList","BackShadowEmoji","Footer","EmojiPicker","Emoji","state","dispatch","params","rtl","ChangeLayoutMode","rtlData","chatData","chat","groupData","data","left","groupName","emojiObject","target","preventDefault","pushcontent","Date","getTime","seen","reaction","headers","authorization","listType","onChange","info","file","status","message","success","error","options","img","SingleChat","PerfectScrollbar","privetData","userName","noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","is_empty","obj","keys","action_destroyer","action_result","destroy","append","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","document","createElement","text","createTextNode","listen","event","handler","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","children","Array","from","childNodes","set_data","wholeText","set_input_value","input","set_style","important","setProperty","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","onDestroy","on_destroy","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","flushing","seen_callbacks","Set","i","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","transition_in","block","local","delete","globals","window","globalThis","global","destroy_block","lookup","d","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","o","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","c","set","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","mount_component","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","bound","context","callbacks","skip_bound","ready","ret","rest","hydrate","nodes","l","intro","SvelteElement","HTMLElement","super","this","attachShadow","mode","slotted","_oldValue","newValue","$destroy","indexOf","splice","$$props","$$set","enI18n","categoriesLabel","emojiUnsupportedMessage","favoritesLabel","loadingMessage","networkErrorMessage","regionLabel","searchDescription","searchLabel","searchResultsLabel","skinToneDescription","skinToneLabel","skinTonesLabel","skinTones","categories","custom","activities","objects","symbols","flags","allGroups","groups","slice","customGroup","DEFAULT_DATA_SOURCE","DEFAULT_LOCALE","MIN_SEARCH_TEXT_LENGTH","NUM_SKIN_TONES","rIC","requestIdleCallback","setTimeout","hasZwj","includes","versionsAndTestEmoji","TIMEOUT_BEFORE_LOADING_MESSAGE","DEFAULT_SKIN_TONE_EMOJI","DEFAULT_NUM_COLUMNS","MOST_COMMONLY_USED_EMOJI","FONT_FAMILY","getTextFeature","color","canvas","width","height","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","compareFeatures","feature1","feature2","feature1Str","join","feature2Str","startsWith","testColorEmojiSupported","determineEmojiSupportLevel","res","version","entries","logError","arguments","emojiSupportLevelPromise","supportedZwjEmojis","VARIATION_SELECTOR","SKINTONE_MODIFIER","ZWJ","LIGHT_SKIN_TONE","LIGHT_SKIN_TONE_MODIFIER","applySkinTone","str","skinTone","zwjIndex","substring","String","fromCodePoint","endsWith","halt","stopPropagation","incrementOrDecrement","decrement","val","arr","uniqBy","item","summarizeEmojisForUI","emojis","emojiSupportLevel","toSimpleSkinsMap","skins","skin","tone","shortcodes","url","category","rAF","requestAnimationFrame","baselineEmojiWidth","resizeObserverSupported","ResizeObserver","calculateWidth","onUpdate","resizeObserver","contentRect","observe","getBoundingClientRect","disconnect","calculateTextWidth","range","createRange","selectNode","firstChild","checkZwjSupport","zwjEmojisToCheck","baselineEmoji","emojiToDomNode","domNode","emojiWidth","supported","uniq","_","Map_1","get_each_context","get_each_context_2","get_each_context_1","get_each_context_3","get_each_context_4","create_each_block_4","key_1","div","t","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","create_each_block_3","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","mounted","dispose","click_handler","args","new_ctx","create_else_block_1","img_src_value","create_if_block_1","create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","calculateEmojiGridWidth_action","each_blocks","each_1_lookup","each_value_2","call","create_else_block","create_if_block","select_block_type_1","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","calculateIndicatorWidth_action","div8","t4","div8_class_value","div9","div9_class_value","div9_role_value","div9_aria_label_value","div9_id_value","div10","div10_class_value","div10_aria_label_value","button1","section_aria_label_value","t0_value","t1_value","t3_value","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","textContent","$$self","$$invalidate","rootElement","tabpanelElement","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","locale","dataSource","skinToneEmoji","i18n","database","customEmoji","customCategorySorting","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","computedIndicatorWidth","indicatorStyle","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","currentSkinTone","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","scrollbarWidth","currentGroupIndex","groups$1","databaseLoaded","focus","getRootNode","getElementById","fireEvent","dispatchEvent","CustomEvent","bubbles","composed","unicodeWithSkin","labelWithSkin","isSkinToneOption","test","calculateEmojiGridWidth","newNumColumns","parseInt","getComputedStyle","getPropertyValue","parentWidth","parentElement","newScrollbarWidth","calculateIndicatorWidth","checkZwjSupportAndUpdate","rootNode","isZwjSupported","async","filterEmojisByVersion","summarizeEmojis","getEmojisByGroup","group","getEmojiByGroup","getEmojisBySearchQuery","query","getEmojiBySearchQuery","onSearchKeydown","goToNextOrPrevious","previous","clickEmoji","onNavClick","findIndex","onNavKeydown","doFocus","el","previousSibling","nextSibling","lastChild","unicodeOrName","getEmojiByUnicodeOrName","emojiSummary","find","skinTonedUnicode","incrementFavoriteEmojiCount","classList","contains","onSkinToneOptionsClick","setPreferredSkinTone","onClickSkinToneButton","onSkinToneOptionsKeydown","changeActiveSkinTone","nextSkinTone","onSkinToneOptionsKeyup","onSkinToneOptionsFocusOut","relatedTarget","input_input_handler","div3_binding","$$value","level","close","err","div9_binding","button1_binding","section_binding","handleDatabaseLoading","showingLoadingMessage","timeoutHandle","clearTimeout","trim","updateEmojis","currentSearchText","newEmojis","currentGroupId","updatePreferredSkinTone","getPreferredSkinTone","replace","updateDefaultFavoriteEmojis","all","Boolean","updateFavorites","dbFavorites","getTopFavoriteEmoji","favorites","scrollTop","calculateCurrentEmojisWithCategories","categoriesToEmoji","sort","once","Picker","shadowRoot","innerHTML","$set","Picker$1","attrName","oldValue","attributeChangedCallback","up","toUpperCase","customElements","define","webpackContext","req","webpackContextResolve","__webpack_require__","code","module","exports","ChatWrapper","Styled","theme","UL","ul","Content","BlockSpan","span","ChatSidebar","assertNonEmptyString","assertNumber","number","DB_VERSION_CURRENT","DB_VERSION_INITIAL","STORE_EMOJI","STORE_KEYVALUE","STORE_FAVORITES","FIELD_TOKENS","INDEX_TOKENS","FIELD_UNICODE","INDEX_COUNT","FIELD_GROUP","FIELD_ORDER","INDEX_GROUP_AND_ORDER","KEY_ETAG","KEY_URL","KEY_PREFERRED_SKINTONE","MODE_READONLY","MODE_READWRITE","INDEX_SKIN_UNICODE","FIELD_SKIN_UNICODE","uniqEmoji","initialMigration","db","createObjectStore","keyPath","indexes","store","indexName","multiEntry","createIndex","undefined","openReqs","databaseCache","onCloseListeners","handleOpenOrDeleteReq","reject","onerror","onblocked","onsuccess","result","createDatabase","dbName","indexedDB","open","onupgradeneeded","oldVersion","onclose","closeDatabase","openDatabase","dbPromise","storeName","readOnlyOrReadWrite","cb","tx","transaction","objectStore","oncomplete","listeners","listener","deleteDatabase","addOnCloseListener","irregularEmoticons","extractTokens","split","word","match","toLowerCase","normalizeTokens","transformEmojiData","emojiData","annotation","emoticon","order","tags","tokens","flat","skinUnicodes","skinVersions","callStore","method","getIDB","getAllIDB","getAllKeysIDB","minBy","array","minItem","findCommonMembers","arrays","uniqByFunc","shortestArray","results","some","isEmpty","hasData","eTag","oldETag","oldUrl","doFullDatabaseScanForSingleResult","predicate","BATCH_SIZE","emojiStore","lastKey","processNextBatch","getAll","IDBKeyRange","lowerBound","loadData","transformedData","metaStore","oldKeys","todo","checkFetched","onFetched","put","intermediateResults","checkDone","onDone","token","only","getEmojiByShortcode","shortcode","lowerShortcodes","getEmojiByUnicode","customEmojiIndex","limit","favoritesStore","openCursor","cursor","addResult","continue","primaryKey","byName","warn","CODA_MARKER","trie","itemToTokens","currentMap","char","charAt","nextMap","valuesAtCoda","search","exact","queue","shift","entriesSortedByKey","requiredKeys","assertCustomEmojis","customEmojis","isArray","firstItemIsFaulty","sortByName","emojiToTokens","searchTrie","searchByExactMatch","searchByPrefix","shortcodeToEmoji","nameToEmoji","byShortcode","cleanEmoji","len","warnETag","requiredKeys$1","assertEmojiData","assertStatus","response","floor","getETag","fetch","getETagAndData","json","arrayBufferToBinaryString","buffer","binary","bytes","Uint8Array","byteLength","fromCharCode","binaryStringToArrayBuffer","buf","ArrayBuffer","charCodeAt","jsonChecksum","object","inString","JSON","stringify","inBuffer","outBuffer","crypto","subtle","digest","outBinString","btoa","checkForUpdates","eTagAndData","loadDataForFirstTime","Database","_dbName","_db","_lazyUpdate","_custom","_clear","bind","_ready","_init","empty","customs","natives","_shutdown"],"mappings":"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","file":"js/privateSingle.f57f2e36.js","sourcesContent":["<template>\r\n  <emoji-picker @emoji-click=\"OnEmojiClick\" class=\"emoji-picker-react\"></emoji-picker>\r\n</template>\r\n<script>\r\nimport { defineComponent, toRefs } from 'vue';\r\nimport 'emoji-picker-element';\r\nimport PropTypes from 'vue-types';\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    emojiClick: PropTypes.func.def(emoji => console.log(emoji)),\r\n  },\r\n  setup(props) {\r\n    const { emojiClick } = toRefs(props);\r\n    const OnEmojiClick = e => {\r\n      emojiClick.value(e.detail.emoji.unicode);\r\n    };\r\n\r\n    return {\r\n      OnEmojiClick,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","import { render } from \"./Emoji.vue?vue&type=template&id=4230f3f9\"\nimport script from \"./Emoji.vue?vue&type=script&lang=js\"\nexport * from \"./Emoji.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/egt/Desktop/strikingdash/teslalife/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <SingleChatWrapper>\r\n    <BackShadowEmoji v-if=\"pickerShow\" @click=\"() => setPickerShow(false)\" />\r\n    <sdCards>\r\n      <template #button>\r\n        <sdDropdown key=\"1\">\r\n          <template #overlay>\r\n            <router-link to=\"#\">\r\n              <sdFeatherIcons type=\"users\" size=\"14\" />\r\n              <span>Create new group</span>\r\n            </router-link>\r\n            <router-link to=\"#\">\r\n              <sdFeatherIcons type=\"trash-2\" size=\"14\" />\r\n              <span>Delete conversation</span>\r\n            </router-link>\r\n            <router-link to=\"#\">\r\n              <sdFeatherIcons type=\"slash\" size=\"14\" />\r\n              <span>Block & Report</span>\r\n            </router-link>\r\n          </template>\r\n          <a to=\"#\">\r\n            <sdFeatherIcons size=\"24\" type=\"more-vertical\" />\r\n          </a>\r\n        </sdDropdown>\r\n      </template>\r\n      <template #title>\r\n        <div class=\"group-chat-header d-flex\">\r\n          <sdHeading as=\"h5\">{{ name }}</sdHeading>\r\n          <div class=\"members\">\r\n            <a to=\"#\">\r\n              <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n            </a>\r\n            <a to=\"#\">\r\n              <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n            </a>\r\n            <a to=\"#\">\r\n              <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n            </a>\r\n            <a to=\"#\">\r\n              <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n            </a>\r\n            <a to=\"#\">\r\n              <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n            </a>\r\n            <a to=\"#\">\r\n              <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n            </a>\r\n            <a to=\"#\" class=\"show-more\">\r\n              <span>20+</span>\r\n            </a>\r\n            <a to=\"#\" class=\"add-more\">\r\n              <span class=\"add-icon\">\r\n                <sdFeatherIcons type=\"plus\" size=\"14\" />\r\n              </span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <ul class=\"atbd-chatbox\" v-if=\"singleContent.length\">\r\n        <div v-for=\"({ time, email, content, id }, index) in singleContent\" :key=\"time\" class=\"atbd-chatbox__single\">\r\n          <p v-if=\"index === 1\" class=\"time-connector text-center text-capitalize\">\r\n            <span>today</span>\r\n          </p>\r\n\r\n          <div :key=\"id\" :style=\"{ overflow: 'hidden' }\">\r\n            <div :class=\"email !== me ? 'left' : 'right'\">\r\n              <img v-if=\"email !== me\" :src=\"require(`@/static/img/avatar/chat-auth.png`)\" alt=\"\" />\r\n\r\n              <div class=\"atbd-chatbox__content\">\r\n                <sdHeading as=\"h5\" class=\"atbd-chatbox__name\">\r\n                  {{ email !== me ? name : null }}\r\n                  <span>{{\r\n                    moment(time).format('MM-DD-YYYY') === moment().format('MM-DD-YYYY')\r\n                      ? moment(id).format('hh:mm A')\r\n                      : moment(id).format('LL')\r\n                  }}</span>\r\n                </sdHeading>\r\n\r\n                <div v-if=\"email !== me\" class=\"atbd-chatbox__contentInner d-flex\">\r\n                  <div class=\"atbd-chatbox__message\">\r\n                    <MessageList class=\"message-box\">{{ content }}</MessageList>\r\n                  </div>\r\n\r\n                  <div class=\"atbd-chatbox__actions\">\r\n                    <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                      <template #overlay>\r\n                        <div class=\"atbd-chatbox__emoji\">\r\n                          <ul>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <span role=\"img\">&#127773;</span>\r\n                              </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <span role=\"img\">&#128116;</span>\r\n                              </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <span role=\"img\">&#128127;</span>\r\n                              </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <span role=\"img\">&#128151;</span>\r\n                              </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <span role=\"img\">&#128400;</span>\r\n                              </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <sdFeatherIcons type=\"more-horizontal\" />\r\n                              </router-link>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </template>\r\n                      <router-link to=\"#\">\r\n                        <sdFeatherIcons type=\"smile\" />\r\n                      </router-link>\r\n                    </sdDropdown>\r\n\r\n                    <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                      <template #overlay>\r\n                        <div class=\"atbd-chatbox__messageControl\">\r\n                          <ul>\r\n                            <li>\r\n                              <router-link to=\"#\">Copy</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Edit</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Quote</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Forward</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Remove</router-link>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </template>\r\n                      <router-link to=\"#\">\r\n                        <sdFeatherIcons type=\"more-horizontal\" size=\"16\" />\r\n                      </router-link>\r\n                    </sdDropdown>\r\n                  </div>\r\n                </div>\r\n\r\n                <div v-else class=\"atbd-chatbox__contentInner d-flex\">\r\n                  <div class=\"atbd-chatbox__actions\">\r\n                    <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                      <template #overlay>\r\n                        <div class=\"atbd-chatbox__messageControl\">\r\n                          <ul>\r\n                            <li>\r\n                              <router-link to=\"#\">Edit </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Copy </router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Quote</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Forward</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">Remove</router-link>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </template>\r\n                      <router-link to=\"#\">\r\n                        <sdFeatherIcons type=\"more-horizontal\" size=\"16\" />\r\n                      </router-link>\r\n                    </sdDropdown>\r\n                    <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                      <template #overlay>\r\n                        <div class=\"atbd-chatbox__emoji\">\r\n                          <ul>\r\n                            <li>\r\n                              <router-link to=\"#\">&#127773;</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">&#128116;</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">&#128127;</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">&#128151;</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">&#128400;</router-link>\r\n                            </li>\r\n                            <li>\r\n                              <router-link to=\"#\">\r\n                                <sdFeatherIcons type=\"more-horizontal\" />\r\n                              </router-link>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </template>\r\n                      <router-link to=\"#\">\r\n                        <sdFeatherIcons type=\"smile\" />\r\n                      </router-link>\r\n                    </sdDropdown>\r\n                  </div>\r\n                  <div class=\"atbd-chatbox__message\">\r\n                    <MessageList class=\"message-box\">{{ content }}</MessageList>\r\n                  </div>\r\n                </div>\r\n\r\n                <div v-if=\"singleContent.length === index + 1\" class=\"group-seen\">\r\n                  <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n                  <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n                  <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n                  <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n                  <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n                  <img :src=\"require('@/static/img/avatar/chat-auth.png')\" alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ul>\r\n      <p v-else>No data found</p>\r\n      <Footer>\r\n        <form @submit=\"handleSubmit\">\r\n          <div :class=\"`chatbox-reply-form d-flex ${fileList.length && 'hasImage'} ${fileList2.length && 'hasFile'}`\">\r\n            <div class=\"chatbox-reply-input\">\r\n              <span class=\"smile-icon\">\r\n                <EmojiPicker :emojiClick=\"onEmojiClick\" v-if=\"pickerShow\" />\r\n                <router-link @click=\"onPickerShow\" to=\"#\">\r\n                  <sdFeatherIcons type=\"smile\" size=\"24\" />\r\n                </router-link>\r\n              </span>\r\n              <input\r\n                @change=\"handleChange\"\r\n                placeholder=\"Type your message...\"\r\n                name=\"chat\"\r\n                id=\"chat\"\r\n                :style=\"{ width: '100%' }\"\r\n                :value=\"inputValue\"\r\n              />\r\n            </div>\r\n            <div class=\"chatbox-reply-action d-flex\">\r\n              <a to=\"#\">\r\n                <a-upload v-bind=\"props\">\r\n                  <sdFeatherIcons type=\"camera\" size=\"18\" />\r\n                </a-upload>\r\n              </a>\r\n              <a to=\"#\">\r\n                <a-upload v-bind=\"attachment\">\r\n                  <sdFeatherIcons type=\"paperclip\" size=\"18\" />\r\n                </a-upload>\r\n              </a>\r\n              <sdButton @click=\"handleSubmit\" type=\"primary\" class=\"btn-send\">\r\n                <sdFeatherIcons type=\"send\" size=\"18\" />\r\n              </sdButton>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </Footer>\r\n    </sdCards>\r\n  </SingleChatWrapper>\r\n</template>\r\n<script>\r\nimport moment from 'moment';\r\nimport EmojiPicker from '@/components/utilities/Emoji.vue';\r\nimport { SingleChatWrapper, MessageList, BackShadowEmoji, Footer } from '../style';\r\nimport { useStore } from 'vuex';\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport { message } from 'ant-design-vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\nconst SingleGroupChat = {\r\n  name: 'SingleGroupChat',\r\n  components: { SingleChatWrapper, MessageList, BackShadowEmoji, Footer, EmojiPicker },\r\n  setup() {\r\n    const { state, dispatch } = useStore();\r\n    const { params } = useRoute();\r\n    const rtl = computed(() => state.ChangeLayoutMode.rtlData);\r\n    const chatData = computed(() => state.chat.groupData.data);\r\n    const left = computed(() => (!rtl.value ? 'left' : 'right'));\r\n\r\n    const me = ref('woadud@gmail.com');\r\n    const singleContent = computed(() => (chatData.value[0] ? chatData.value[0].content : []));\r\n    const name = computed(() => chatData.value[0] && chatData.value[0].groupName);\r\n\r\n    const inputValue = ref('');\r\n    const fileList = ref([]);\r\n    const fileList2 = ref([]);\r\n    const pickerShow = ref(false);\r\n\r\n    const setPickerShow = value => {\r\n      pickerShow.value = value;\r\n    };\r\n\r\n    const onEmojiClick = emojiObject => {\r\n      return (inputValue.value = inputValue.value + emojiObject);\r\n    };\r\n\r\n    const onPickerShow = () => {\r\n      pickerShow.value = !pickerShow.value;\r\n    };\r\n\r\n    const handleChange = e => {\r\n      inputValue.value = e.target.value;\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n      e.preventDefault();\r\n      const pushcontent = {\r\n        content: inputValue,\r\n        time: new Date().getTime(),\r\n        seen: false,\r\n        reaction: false,\r\n        email: me,\r\n      };\r\n      dispatch('updateGroupChat', { id: params.id, pushcontent });\r\n      singleContent.value = [...singleContent.value, pushcontent];\r\n      inputValue.value = '';\r\n    };\r\n\r\n    onMounted(() => dispatch('filterSinglepageGroup', params.id));\r\n\r\n    return {\r\n      rtl,\r\n      handleSubmit,\r\n      setPickerShow,\r\n      props: {\r\n        name: 'file',\r\n        action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        headers: {\r\n          authorization: 'authorization-text',\r\n        },\r\n        listType: 'picture-card',\r\n        onChange(info) {\r\n          if (info.file.status !== 'uploading') {\r\n            fileList.value = info.fileList;\r\n          }\r\n          if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n          } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n          }\r\n        },\r\n      },\r\n      attachment: {\r\n        name: 'file',\r\n        action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        headers: {\r\n          authorization: 'authorization-text',\r\n        },\r\n        onChange(info) {\r\n          if (info.file.status !== 'uploading') {\r\n            // console.log(info.file, info.fileList);\r\n            fileList2.value = info.fileList;\r\n          }\r\n          if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n          } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n          }\r\n        },\r\n      },\r\n      handleChange,\r\n      onEmojiClick,\r\n      onPickerShow,\r\n      left,\r\n      chatData,\r\n      me,\r\n      singleContent,\r\n      name,\r\n      inputValue,\r\n      fileList,\r\n      fileList2,\r\n      pickerShow,\r\n      moment,\r\n    };\r\n  },\r\n};\r\n\r\nexport default SingleGroupChat;\r\n</script>\r\n","import { render } from \"./SingleGroupChat.vue?vue&type=template&id=6b179c0c\"\nimport script from \"./SingleGroupChat.vue?vue&type=script&lang=js\"\nexport * from \"./SingleGroupChat.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/egt/Desktop/strikingdash/teslalife/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <SingleChatWrapper>\r\n    <BackShadowEmoji v-if=\"pickerShow\" @click=\"() => setPickerShow(false)\" />\r\n    <sdCards>\r\n      <template #button>\r\n        <sdDropdown key=\"1\">\r\n          <template #overlay>\r\n            <router-link to=\"#\">\r\n              <sdFeatherIcons type=\"users\" size=\"14\" />\r\n              <span>Create new group</span>\r\n            </router-link>\r\n            <router-link to=\"#\">\r\n              <sdFeatherIcons type=\"trash-2\" size=\"14\" />\r\n              <span>Delete conversation</span>\r\n            </router-link>\r\n            <router-link to=\"#\">\r\n              <sdFeatherIcons type=\"slash\" size=\"14\" />\r\n              <span>Block & Report</span>\r\n            </router-link>\r\n          </template>\r\n          <a to=\"#\">\r\n            <sdFeatherIcons size=\"24\" type=\"more-vertical\" />\r\n          </a>\r\n        </sdDropdown>\r\n      </template>\r\n      <template #title>\r\n        <sdHeading as=\"h5\">{{ name }}</sdHeading>\r\n        <p>Active Now</p>\r\n      </template>\r\n\r\n      <ul class=\"atbd-chatbox\" v-if=\"singleContent.length\">\r\n        <perfect-scrollbar\r\n          :options=\"{\r\n            wheelSpeed: 1,\r\n            swipeEasing: true,\r\n            suppressScrollX: true,\r\n          }\"\r\n        >\r\n          <li\r\n            v-for=\"({ time, img, email, content, id }, index) in singleContent\"\r\n            :key=\"time\"\r\n            class=\"atbd-chatbox__single\"\r\n          >\r\n            <p v-if=\"index === 1\" class=\"time-connector text-center text-capitalize\">\r\n              <span>today</span>\r\n            </p>\r\n\r\n            <div :key=\"id\" :style=\"{ overflow: 'hidden' }\">\r\n              <div :class=\"email !== me ? 'left' : 'right'\">\r\n                <img v-if=\"email !== me\" :src=\"require(`@/static/img/chat-author/${img}`)\" alt=\"\" />\r\n\r\n                <div class=\"atbd-chatbox__content\">\r\n                  <sdHeading as=\"h5\" class=\"atbd-chatbox__name\">\r\n                    {{ email !== me ? name : null }}\r\n                    <span>{{\r\n                      moment(time).format('MM-DD-YYYY') === moment().format('MM-DD-YYYY')\r\n                        ? moment(id).format('hh:mm A')\r\n                        : moment(id).format('LL')\r\n                    }}</span>\r\n                  </sdHeading>\r\n\r\n                  <div v-if=\"email !== me\" class=\"atbd-chatbox__contentInner d-flex\">\r\n                    <div class=\"atbd-chatbox__message\">\r\n                      <MessageList class=\"message-box\">{{ content }}</MessageList>\r\n                    </div>\r\n\r\n                    <div class=\"atbd-chatbox__actions\">\r\n                      <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                        <template #overlay>\r\n                          <div class=\"atbd-chatbox__emoji\">\r\n                            <ul>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <span role=\"img\">&#127773;</span>\r\n                                </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <span role=\"img\">&#128116;</span>\r\n                                </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <span role=\"img\">&#128127;</span>\r\n                                </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <span role=\"img\">&#128151;</span>\r\n                                </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <span role=\"img\">&#128400;</span>\r\n                                </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <sdFeatherIcons type=\"more-horizontal\" />\r\n                                </router-link>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </template>\r\n                        <router-link to=\"#\">\r\n                          <sdFeatherIcons type=\"smile\" />\r\n                        </router-link>\r\n                      </sdDropdown>\r\n\r\n                      <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                        <template #overlay>\r\n                          <div class=\"atbd-chatbox__messageControl\">\r\n                            <ul>\r\n                              <li>\r\n                                <router-link to=\"#\">Copy</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Edit</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Quote</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Forward</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Remove</router-link>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </template>\r\n                        <router-link to=\"#\">\r\n                          <sdFeatherIcons type=\"more-horizontal\" size=\"16\" />\r\n                        </router-link>\r\n                      </sdDropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div v-else class=\"atbd-chatbox__contentInner d-flex\">\r\n                    <div class=\"atbd-chatbox__actions\">\r\n                      <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                        <template #overlay>\r\n                          <div class=\"atbd-chatbox__messageControl\">\r\n                            <ul>\r\n                              <li>\r\n                                <router-link to=\"#\">Edit </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Copy </router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Quote</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Forward</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">Remove</router-link>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </template>\r\n                        <router-link to=\"#\">\r\n                          <sdFeatherIcons type=\"more-horizontal\" size=\"16\" />\r\n                        </router-link>\r\n                      </sdDropdown>\r\n                      <sdDropdown :action=\"['hover']\" placement=\"bottomCenter\">\r\n                        <template #overlay>\r\n                          <div class=\"atbd-chatbox__emoji\">\r\n                            <ul>\r\n                              <li>\r\n                                <router-link to=\"#\">&#127773;</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">&#128116;</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">&#128127;</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">&#128151;</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">&#128400;</router-link>\r\n                              </li>\r\n                              <li>\r\n                                <router-link to=\"#\">\r\n                                  <sdFeatherIcons type=\"more-horizontal\" />\r\n                                </router-link>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </template>\r\n                        <router-link to=\"#\">\r\n                          <sdFeatherIcons type=\"smile\" />\r\n                        </router-link>\r\n                      </sdDropdown>\r\n                    </div>\r\n                    <div class=\"atbd-chatbox__message\">\r\n                      <MessageList class=\"message-box\">{{ content }}</MessageList>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div v-if=\"email === me && singleContent.length === index + 1\" class=\"message-seen text-right\">\r\n                    <span class=\"message-seen__time\">Seen 9:20 PM </span>\r\n                    <img :src=\"`@/static/img/chat-author/${img}`\" alt=\"\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </perfect-scrollbar>\r\n      </ul>\r\n      <p v-else>No data found</p>\r\n\r\n      <Footer>\r\n        <form @submit=\"handleSubmit\">\r\n          <div :class=\"`chatbox-reply-form d-flex ${fileList.length && 'hasImage'} ${fileList2.length && 'hasFile'}`\">\r\n            <div class=\"chatbox-reply-input\">\r\n              <span class=\"smile-icon\">\r\n                <EmojiPicker :emojiClick=\"onEmojiClick\" v-if=\"pickerShow\" />\r\n                <router-link @click=\"onPickerShow\" to=\"#\">\r\n                  <sdFeatherIcons type=\"smile\" size=\"24\" />\r\n                </router-link>\r\n              </span>\r\n              <input\r\n                @change=\"handleChange\"\r\n                placeholder=\"Type your message...\"\r\n                name=\"chat\"\r\n                id=\"chat\"\r\n                :style=\"{ width: '100%' }\"\r\n                :value=\"inputValue\"\r\n              />\r\n            </div>\r\n            <div class=\"chatbox-reply-action d-flex\">\r\n              <a to=\"#\">\r\n                <a-upload v-bind=\"props\">\r\n                  <sdFeatherIcons type=\"camera\" size=\"18\" />\r\n                </a-upload>\r\n              </a>\r\n              <a to=\"#\">\r\n                <a-upload v-bind=\"attachment\">\r\n                  <sdFeatherIcons type=\"paperclip\" size=\"18\" />\r\n                </a-upload>\r\n              </a>\r\n              <sdButton @click=\"handleSubmit\" type=\"primary\" class=\"btn-send\">\r\n                <sdFeatherIcons type=\"send\" size=\"18\" />\r\n              </sdButton>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </Footer>\r\n    </sdCards>\r\n  </SingleChatWrapper>\r\n</template>\r\n<script>\r\nimport moment from 'moment';\r\nimport { SingleChatWrapper, MessageList, BackShadowEmoji, Footer } from '../style';\r\nimport { useStore } from 'vuex';\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport { message } from 'ant-design-vue';\r\nimport { useRoute } from 'vue-router';\r\nimport EmojiPicker from '@/components/utilities/Emoji.vue';\r\nimport { PerfectScrollbar } from 'vue3-perfect-scrollbar';\r\nimport 'vue3-perfect-scrollbar/dist/vue3-perfect-scrollbar.css';\r\n\r\nconst SingleChat = {\r\n  name: 'SingleChat',\r\n  components: { SingleChatWrapper, MessageList, BackShadowEmoji, Footer, EmojiPicker, PerfectScrollbar },\r\n  setup() {\r\n    const { state, dispatch } = useStore();\r\n    const { params } = useRoute();\r\n    const rtl = computed(() => state.ChangeLayoutMode.rtlData);\r\n    const chatData = computed(() => state.chat.privetData.data);\r\n    const left = computed(() => (!rtl.value ? 'left' : 'right'));\r\n\r\n    const me = ref('woadud@gmail.com');\r\n\r\n    const singleContent = computed(() => (chatData.value[0] ? chatData.value[0].content : []));\r\n    const name = computed(() => chatData.value[0] && chatData.value[0].userName);\r\n\r\n    const inputValue = ref('');\r\n    const fileList = ref([]);\r\n    const fileList2 = ref([]);\r\n    const pickerShow = ref(false);\r\n\r\n    const setPickerShow = value => {\r\n      pickerShow.value = value;\r\n    };\r\n\r\n    const onEmojiClick = emojiObject => {\r\n      return (inputValue.value = inputValue.value + emojiObject);\r\n    };\r\n\r\n    const onPickerShow = () => {\r\n      pickerShow.value = !pickerShow.value;\r\n    };\r\n\r\n    const handleChange = e => {\r\n      inputValue.value = e.target.value;\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n      e.preventDefault();\r\n      const pushcontent = {\r\n        content: inputValue,\r\n        time: new Date().getTime(),\r\n        seen: false,\r\n        reaction: false,\r\n        email: me,\r\n      };\r\n      dispatch('updatePrivetChat', { id: params.id, pushcontent });\r\n      singleContent.value = [...singleContent.value, pushcontent];\r\n      inputValue.value = '';\r\n    };\r\n\r\n    onMounted(() => dispatch('filterSinglePage', params.id));\r\n\r\n    return {\r\n      rtl,\r\n      handleSubmit,\r\n      setPickerShow,\r\n      props: {\r\n        name: 'file',\r\n        action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        headers: {\r\n          authorization: 'authorization-text',\r\n        },\r\n        listType: 'picture-card',\r\n        onChange(info) {\r\n          if (info.file.status !== 'uploading') {\r\n            fileList.value = info.fileList;\r\n          }\r\n          if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n          } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n          }\r\n        },\r\n      },\r\n      attachment: {\r\n        name: 'file',\r\n        action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        headers: {\r\n          authorization: 'authorization-text',\r\n        },\r\n        onChange(info) {\r\n          if (info.file.status !== 'uploading') {\r\n            // console.log(info.file, info.fileList);\r\n            fileList2.value = info.fileList;\r\n          }\r\n          if (info.file.status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully`);\r\n          } else if (info.file.status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n          }\r\n        },\r\n      },\r\n      handleChange,\r\n      onEmojiClick,\r\n      onPickerShow,\r\n      left,\r\n      chatData,\r\n      me,\r\n      singleContent,\r\n      name,\r\n      inputValue,\r\n      fileList,\r\n      fileList2,\r\n      pickerShow,\r\n      moment,\r\n    };\r\n  },\r\n};\r\n\r\nexport default SingleChat;\r\n</script>\r\n<style scoped>\r\n.ps {\r\n  height: 450px;\r\n}\r\n</style>\r\n","import { render } from \"./SingleChat.vue?vue&type=template&id=26a236da&scoped=true\"\nimport script from \"./SingleChat.vue?vue&type=script&lang=js\"\nexport * from \"./SingleChat.vue?vue&type=script&lang=js\"\n\nimport \"./SingleChat.vue?vue&type=style&index=0&id=26a236da&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/egt/Desktop/strikingdash/teslalife/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26a236da\"]])\n\nexport default __exports__","import Database from './database.js';\n\nfunction noop() { }\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\nconst outroing = new Set();\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n\nvar enI18n = {\n  categoriesLabel: 'Categories',\n  emojiUnsupportedMessage: 'Your browser does not support color emoji.',\n  favoritesLabel: 'Favorites',\n  loadingMessage: 'Loading…',\n  networkErrorMessage: 'Could not load emoji. Try refreshing.',\n  regionLabel: 'Emoji picker',\n  searchDescription: 'When search results are available, press up or down to select and enter to choose.',\n  searchLabel: 'Search',\n  searchResultsLabel: 'Search results',\n  skinToneDescription: 'When expanded, press up or down to select and enter to choose.',\n  skinToneLabel: 'Choose a skin tone (currently {skinTone})',\n  skinTonesLabel: 'Skin tones',\n  skinTones: [\n    'Default',\n    'Light',\n    'Medium-Light',\n    'Medium',\n    'Medium-Dark',\n    'Dark'\n  ],\n  categories: {\n    custom: 'Custom',\n    'smileys-emotion': 'Smileys and emoticons',\n    'people-body': 'People and body',\n    'animals-nature': 'Animals and nature',\n    'food-drink': 'Food and drink',\n    'travel-places': 'Travel and places',\n    activities: 'Activities',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags'\n  }\n};\n\n// via https://unpkg.com/browse/emojibase-data@6.0.0/meta/groups.json\nconst allGroups = [\n  [-1, '✨', 'custom'],\n  [0, '😀', 'smileys-emotion'],\n  [1, '👋', 'people-body'],\n  [3, '🐱', 'animals-nature'],\n  [4, '🍎', 'food-drink'],\n  [5, '🏠️', 'travel-places'],\n  [6, '⚽', 'activities'],\n  [7, '📝', 'objects'],\n  [8, '⛔️', 'symbols'],\n  [9, '🏁', 'flags']\n].map(([id, emoji, name]) => ({ id, emoji, name }));\n\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\n\n/* istanbul ignore next */\nconst rIC = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n\n// check for ZWJ (zero width joiner) character\nfunction hasZwj (emoji) {\n  return emoji.unicode.includes('\\u200d')\n}\n\n// @rollup/plugin-strip doesn't properly strip performance.mark/measure\n\nfunction stop (str) {\n}\n\n// Find one good representative emoji to test. Ideally it should have color in the center.\n// For some inspiration, see: https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\nconst versionsAndTestEmoji = {\n  '😃': 0.6,\n  '😐️': 0.7,\n  '😀': 1,\n  '👁️‍🗨️': 2,\n  '🤣': 3,\n  '👱‍♀️': 4,\n  '🤩': 5,\n  '🥰': 11, // smiling face with hearts\n  '🥻': 12, // sari\n  '🧑‍🦰': 12.1, // person: red hair\n  '🥲': 13, // smiling face with tear\n  '😵‍💫': 13.1 // face with spiral eyes\n};\n\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst DEFAULT_SKIN_TONE_EMOJI = '🖐️';\nconst DEFAULT_NUM_COLUMNS = 8;\n\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst MOST_COMMONLY_USED_EMOJI = [\n  '😊',\n  '😒',\n  '♥️',\n  '👍️',\n  '😍',\n  '😂',\n  '😭',\n  '☺️',\n  '😔',\n  '😩',\n  '😏',\n  '💕',\n  '🙌',\n  '😘'\n];\n\nconst FONT_FAMILY = '\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",' +\n  '\"Twemoji Mozilla\",\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n\nconst getTextFeature = (text, color) => {\n  try {\n    const canvas = document.createElement('canvas');\n    canvas.width = canvas.height = 1;\n\n    const ctx = canvas.getContext('2d');\n    ctx.textBaseline = 'top';\n    ctx.font = `100px ${FONT_FAMILY}`;\n    ctx.fillStyle = color;\n    ctx.scale(0.01, 0.01);\n    ctx.fillText(text, 0, 0);\n\n    return ctx.getImageData(0, 0, 1, 1).data\n  } catch (e) { /* ignore, return undefined */ }\n};\n\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(',');\n  const feature2Str = [...feature2].join(',');\n  // This is RGBA, so for 0,0,0, we are checking that the first RGB is not all zeroes.\n  // Most of the time when unsupported this is 0,0,0,0, but on Chrome on Mac it is\n  // 0,0,0,61 - there is a transparency here.\n  return feature1Str === feature2Str && !feature1Str.startsWith('0,0,0,')\n};\n\nfunction testColorEmojiSupported (text) {\n  // Render white and black and then compare them to each other and ensure they're the same\n  // color, and neither one is black. This shows that the emoji was rendered in color.\n  const feature1 = getTextFeature(text, '#000');\n  const feature2 = getTextFeature(text, '#fff');\n  return feature1 && feature2 && compareFeatures(feature1, feature2)\n}\n\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n\nfunction determineEmojiSupportLevel () {\n  let res;\n  for (const [emoji, version] of Object.entries(versionsAndTestEmoji)) {\n    /* istanbul ignore else */\n    if (testColorEmojiSupported(emoji)) {\n      res = version;\n    } else {\n      break\n    }\n  }\n  return res\n}\n\n// @rollup/plugin-strip doesn't strip console.logs properly\n\nfunction log () {\n}\n\nfunction logError () {\n  /* istanbul ignore if */\n  {\n    console.error(...arguments);\n  }\n}\n\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nconst emojiSupportLevelPromise = new Promise(resolve => (\n  rIC(() => (\n    resolve(determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n  ))\n));\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst supportedZwjEmojis = new Map();\n\nconst VARIATION_SELECTOR = '\\ufe0f';\nconst SKINTONE_MODIFIER = '\\ud83c';\nconst ZWJ = '\\u200d';\nconst LIGHT_SKIN_TONE = 0x1F3FB;\nconst LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction applySkinTone (str, skinTone) {\n  if (skinTone === 0) {\n    return str\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) +\n      String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) +\n      str.substring(zwjIndex)\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1)\n}\n\nfunction halt (event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction incrementOrDecrement (decrement, val, arr) {\n  val += (decrement ? -1 : 1);\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val\n}\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\n\nfunction summarizeEmojisForUI (emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = skins => {\n    const res = {};\n    for (const skin of skins) {\n      // ignore arrays like [1, 2] with multiple skin tones\n      // also ignore variants that are in an unsupported emoji version\n      // (these do exist - variants from a different version than their base emoji)\n      if (typeof skin.tone === 'number' && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res\n  };\n\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: (shortcodes || []).join(', ')\n  }))\n}\n\n// import rAF from one place so that the bundle size is a bit smaller\nconst rAF = requestAnimationFrame;\n\n// Svelte action to calculate the width of an element and auto-update\n\nlet resizeObserverSupported = typeof ResizeObserver === 'function';\n\nfunction calculateWidth (node, onUpdate) {\n  let resizeObserver;\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver(entries => (\n      onUpdate(entries[0].contentRect.width)\n    ));\n    resizeObserver.observe(node);\n  } else { // just set the width once, don't bother trying to track it\n    rAF(() => (\n      onUpdate(node.getBoundingClientRect().width)\n    ));\n  }\n\n  return {\n    destroy () {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }\n}\n\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction calculateTextWidth (node) {\n  /* istanbul ignore else */\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width\n  }\n}\n\nlet baselineEmojiWidth;\n\nfunction checkZwjSupport (zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === 'undefined') { // calculate the baseline emoji width only once\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    // On Windows, some supported emoji are ~50% bigger than the baseline emoji, but what we really want to guard\n    // against are the ones that are 2x the size, because those are truly broken (person with red hair = person with\n    // floating red wig, black cat = cat with black square, polar bear = bear with snowflake, etc.)\n    // So here we set the threshold at 1.8 times the size of the baseline emoji.\n    const supported = emojiWidth / 1.8 < baselineEmojiWidth;\n    supportedZwjEmojis.set(emoji.unicode, supported);\n    /* istanbul ignore next */\n    if (!supported) {\n      log('Filtered unsupported emoji', emoji.unicode);\n    } else if (emojiWidth !== baselineEmojiWidth) {\n      log('Allowed borderline emoji', emoji.unicode);\n    }\n  }\n}\n\n// Measure after style/layout are complete\n\nconst requestPostAnimationFrame = callback => {\n  rAF(() => {\n    setTimeout(callback);\n  });\n};\n\n// like lodash's uniq\n\nfunction uniq (arr) {\n  return uniqBy(arr, _ => _)\n}\n\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.29.4 */\n\nconst { Map: Map_1 } = globals;\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[70] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[73] = list[i];\n\treturn child_ctx;\n}\n\nfunction get_each_context_4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[76] = list[i];\n\tchild_ctx[69] = i;\n\treturn child_ctx;\n}\n\n// (44:38) {#each skinTones as skinTone, i (skinTone)}\nfunction create_each_block_4(key_1, ctx) {\n\tlet div;\n\tlet t_value = /*skinTone*/ ctx[76] + \"\";\n\tlet t;\n\tlet div_id_value;\n\tlet div_class_value;\n\tlet div_aria_selected_value;\n\tlet div_title_value;\n\tlet div_aria_label_value;\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[69]);\n\n\t\t\tattr(div, \"class\", div_class_value = \"emoji hide-focus \" + (/*i*/ ctx[69] === /*activeSkinTone*/ ctx[15]\n\t\t\t? \"active\"\n\t\t\t: \"\"));\n\n\t\t\tattr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[69] === /*activeSkinTone*/ ctx[15]);\n\t\t\tattr(div, \"role\", \"option\");\n\t\t\tattr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]]);\n\t\t\tattr(div, \"tabindex\", \"-1\");\n\t\t\tattr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]]);\n\t\t\tthis.first = div;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*skinTones*/ 524288 && t_value !== (t_value = /*skinTone*/ ctx[76] + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*skinTones*/ 524288 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[69])) {\n\t\t\t\tattr(div, \"id\", div_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 557056 && div_class_value !== (div_class_value = \"emoji hide-focus \" + (/*i*/ ctx[69] === /*activeSkinTone*/ ctx[15]\n\t\t\t? \"active\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div, \"class\", div_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 557056 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[69] === /*activeSkinTone*/ ctx[15])) {\n\t\t\t\tattr(div, \"aria-selected\", div_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 524289 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]])) {\n\t\t\t\tattr(div, \"title\", div_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 524289 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[69]])) {\n\t\t\t\tattr(div, \"aria-label\", div_aria_label_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (54:33) {#each groups as group (group.id)}\nfunction create_each_block_3(key_1, ctx) {\n\tlet button;\n\tlet div;\n\tlet t_value = /*group*/ ctx[73].emoji + \"\";\n\tlet t;\n\tlet button_aria_controls_value;\n\tlet button_aria_label_value;\n\tlet button_aria_selected_value;\n\tlet button_title_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler(...args) {\n\t\treturn /*click_handler*/ ctx[47](/*group*/ ctx[73], ...args);\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"emoji\");\n\t\t\tattr(button, \"role\", \"tab\");\n\t\t\tattr(button, \"class\", \"nav-button\");\n\t\t\tattr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[73].id);\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name]);\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[7] && /*currentGroup*/ ctx[23].id === /*group*/ ctx[73].id);\n\t\t\tattr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name]);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*groups*/ 4194304 && t_value !== (t_value = /*group*/ ctx[73].emoji + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*groups*/ 4194304 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[73].id)) {\n\t\t\t\tattr(button, \"aria-controls\", button_aria_controls_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4194305 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name])) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup, groups*/ 12583040 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[7] && /*currentGroup*/ ctx[23].id === /*group*/ ctx[73].id)) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4194305 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[73].name])) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (89:98) {:else}\nfunction create_else_block_1(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (img.src !== (img_src_value = /*emoji*/ ctx[67].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && img.src !== (img_src_value = /*emoji*/ ctx[67].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (89:38) {#if emoji.unicode}\nfunction create_if_block_1(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 16388 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (84:39) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction create_each_block_2(key_1, ctx) {\n\tlet button;\n\tlet button_role_value;\n\tlet button_aria_selected_value;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_class_value;\n\tlet button_id_value;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[67].unicode) return create_if_block_1;\n\t\treturn create_else_block_1;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", button_role_value = /*searchMode*/ ctx[7] ? \"option\" : \"menuitem\");\n\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i*/ ctx[69] == /*activeSearchItem*/ ctx[8]\n\t\t\t: \"\");\n\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[67].title);\n\n\t\t\tattr(button, \"class\", button_class_value = \"emoji \" + (/*searchMode*/ ctx[7] && /*i*/ ctx[69] === /*activeSearchItem*/ ctx[8]\n\t\t\t? \"active\"\n\t\t\t: \"\"));\n\n\t\t\tattr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[67].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && button_role_value !== (button_role_value = /*searchMode*/ ctx[7] ? \"option\" : \"menuitem\")) {\n\t\t\t\tattr(button, \"role\", button_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 388 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i*/ ctx[69] == /*activeSearchItem*/ ctx[8]\n\t\t\t: \"\")) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 16388 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && button_title_value !== (button_title_value = /*emoji*/ ctx[67].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 388 && button_class_value !== (button_class_value = \"emoji \" + (/*searchMode*/ ctx[7] && /*i*/ ctx[69] === /*activeSearchItem*/ ctx[8]\n\t\t\t? \"active\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(button, \"class\", button_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[67].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\n// (71:3) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction create_each_block_1(key_1, ctx) {\n\tlet div0;\n\n\tlet t_value = (/*searchMode*/ ctx[7]\n\t? /*i18n*/ ctx[0].searchResultsLabel\n\t: /*emojiWithCategory*/ ctx[70].category\n\t\t? /*emojiWithCategory*/ ctx[70].category\n\t\t: /*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]) + \"\";\n\n\tlet t;\n\tlet div0_id_value;\n\tlet div0_class_value;\n\tlet div1;\n\tlet each_blocks = [];\n\tlet each_1_lookup = new Map_1();\n\tlet div1_role_value;\n\tlet div1_aria_labelledby_value;\n\tlet div1_id_value;\n\tlet calculateEmojiGridWidth_action;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_2 = /*emojiWithCategory*/ ctx[70].emojis;\n\tconst get_key = ctx => /*emoji*/ ctx[67].id;\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\tlet child_ctx = get_each_context_2(ctx, each_value_2, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tdiv1 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[69]);\n\n\t\t\tattr(div0, \"class\", div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? \"\"\n\t\t\t: \"gone\"));\n\n\t\t\tattr(div0, \"aria-hidden\", \"true\");\n\t\t\tattr(div1, \"class\", \"emoji-menu\");\n\t\t\tattr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[7] ? \"listbox\" : \"menu\");\n\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[69]);\n\t\t\tattr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[7] ? \"search-results\" : \"\");\n\t\t\tthis.first = div0;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div0, anchor);\n\t\t\tappend(div0, t);\n\t\t\tinsert(target, div1, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div1, null);\n\t\t\t}\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = action_destroyer(calculateEmojiGridWidth_action = /*calculateEmojiGridWidth*/ ctx[28].call(null, div1));\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 8388741 && t_value !== (t_value = (/*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*emojiWithCategory*/ ctx[70].category\n\t\t\t\t? /*emojiWithCategory*/ ctx[70].category\n\t\t\t\t: /*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]) + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[69])) {\n\t\t\t\tattr(div0, \"id\", div0_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div0_class_value !== (div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? \"\"\n\t\t\t: \"gone\"))) {\n\t\t\t\tattr(div0, \"class\", div0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin*/ 201343364) {\n\t\t\t\tconst each_value_2 = /*emojiWithCategory*/ ctx[70].emojis;\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[7] ? \"listbox\" : \"menu\")) {\n\t\t\t\tattr(div1, \"role\", div1_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[69])) {\n\t\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[7] ? \"search-results\" : \"\")) {\n\t\t\t\tattr(div1, \"id\", div1_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div0);\n\t\t\tif (detaching) detach(div1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (101:94) {:else}\nfunction create_else_block(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (img.src !== (img_src_value = /*emoji*/ ctx[67].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && img.src !== (img_src_value = /*emoji*/ ctx[67].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (101:34) {#if emoji.unicode}\nfunction create_if_block(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1064960 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[26](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (97:62) {#each currentFavorites as emoji, i (emoji.id)}\nfunction create_each_block(key_1, ctx) {\n\tlet button;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_id_value;\n\n\tfunction select_block_type_1(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[67].unicode) return create_if_block;\n\t\treturn create_else_block;\n\t}\n\n\tlet current_block_type = select_block_type_1(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", \"menuitem\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[67].title);\n\t\t\tattr(button, \"class\", \"emoji\");\n\t\t\tattr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[67].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1064960 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[27](/*emoji*/ ctx[67], /*currentSkinTone*/ ctx[14]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && button_title_value !== (button_title_value = /*emoji*/ ctx[67].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[67].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet section;\n\tlet div0;\n\tlet div4;\n\tlet div1;\n\tlet input;\n\tlet input_placeholder_value;\n\tlet input_aria_expanded_value;\n\tlet input_aria_activedescendant_value;\n\tlet label;\n\tlet t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n\tlet t0;\n\tlet span0;\n\tlet t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n\tlet t1;\n\tlet div2;\n\tlet button0;\n\tlet t2;\n\tlet button0_class_value;\n\tlet div2_class_value;\n\tlet span1;\n\tlet t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n\tlet t3;\n\tlet div3;\n\tlet each_blocks_3 = [];\n\tlet each0_lookup = new Map_1();\n\tlet div3_class_value;\n\tlet div3_aria_label_value;\n\tlet div3_aria_activedescendant_value;\n\tlet div3_aria_hidden_value;\n\tlet div5;\n\tlet each_blocks_2 = [];\n\tlet each1_lookup = new Map_1();\n\tlet div5_aria_label_value;\n\tlet div7;\n\tlet div6;\n\tlet calculateIndicatorWidth_action;\n\tlet div8;\n\tlet t4;\n\tlet div8_class_value;\n\tlet div9;\n\tlet each_blocks_1 = [];\n\tlet each2_lookup = new Map_1();\n\tlet div9_class_value;\n\tlet div9_role_value;\n\tlet div9_aria_label_value;\n\tlet div9_id_value;\n\tlet div10;\n\tlet each_blocks = [];\n\tlet each3_lookup = new Map_1();\n\tlet div10_class_value;\n\tlet div10_aria_label_value;\n\tlet button1;\n\tlet section_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_4 = /*skinTones*/ ctx[19];\n\tconst get_key = ctx => /*skinTone*/ ctx[76];\n\n\tfor (let i = 0; i < each_value_4.length; i += 1) {\n\t\tlet child_ctx = get_each_context_4(ctx, each_value_4, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n\t}\n\n\tlet each_value_3 = /*groups*/ ctx[22];\n\tconst get_key_1 = ctx => /*group*/ ctx[73].id;\n\n\tfor (let i = 0; i < each_value_3.length; i += 1) {\n\t\tlet child_ctx = get_each_context_3(ctx, each_value_3, i);\n\t\tlet key = get_key_1(child_ctx);\n\t\teach1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n\t}\n\n\tlet each_value_1 = /*currentEmojisWithCategories*/ ctx[2];\n\tconst get_key_2 = ctx => /*emojiWithCategory*/ ctx[70].category;\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_context_1(ctx, each_value_1, i);\n\t\tlet key = get_key_2(child_ctx);\n\t\teach2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n\t}\n\n\tlet each_value = /*currentFavorites*/ ctx[20];\n\tconst get_key_3 = ctx => /*emoji*/ ctx[67].id;\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\tlet child_ctx = get_each_context(ctx, each_value, i);\n\t\tlet key = get_key_3(child_ctx);\n\t\teach3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv4 = element(\"div\");\n\t\t\tdiv1 = element(\"div\");\n\t\t\tinput = element(\"input\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tspan0 = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tdiv2 = element(\"div\");\n\t\t\tbutton0 = element(\"button\");\n\t\t\tt2 = text(/*skinToneButtonText*/ ctx[16]);\n\t\t\tspan1 = element(\"span\");\n\t\t\tt3 = text(t3_value);\n\t\t\tdiv3 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].c();\n\t\t\t}\n\n\t\t\tdiv5 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tdiv7 = element(\"div\");\n\t\t\tdiv6 = element(\"div\");\n\t\t\tdiv8 = element(\"div\");\n\t\t\tt4 = text(/*message*/ ctx[9]);\n\t\t\tdiv9 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tdiv10 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tbutton1 = element(\"button\");\n\t\t\tbutton1.textContent = \"😀\";\n\t\t\tthis.c = noop;\n\t\t\tattr(div0, \"class\", \"pad-top\");\n\t\t\tattr(input, \"id\", \"search\");\n\t\t\tattr(input, \"class\", \"search\");\n\t\t\tattr(input, \"type\", \"search\");\n\t\t\tattr(input, \"role\", \"combobox\");\n\t\t\tattr(input, \"enterkeyhint\", \"search\");\n\t\t\tattr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n\t\t\tattr(input, \"autocapitalize\", \"none\");\n\t\t\tattr(input, \"autocomplete\", \"off\");\n\t\t\tattr(input, \"spellcheck\", \"true\");\n\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value = !!(/*searchMode*/ ctx[7] && /*currentEmojis*/ ctx[1].length));\n\t\t\tattr(input, \"aria-controls\", \"search-results\");\n\t\t\tattr(input, \"aria-owns\", \"search-results\");\n\t\t\tattr(input, \"aria-describedby\", \"search-description\");\n\t\t\tattr(input, \"aria-autocomplete\", \"list\");\n\n\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[25]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[25]}`\n\t\t\t: \"\");\n\n\t\t\tattr(label, \"class\", \"sr-only\");\n\t\t\tattr(label, \"for\", \"search\");\n\t\t\tattr(span0, \"id\", \"search-description\");\n\t\t\tattr(span0, \"class\", \"sr-only\");\n\t\t\tattr(div1, \"class\", \"search-wrapper\");\n\t\t\tattr(button0, \"id\", \"skintone-button\");\n\t\t\tattr(button0, \"class\", button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[11] ? \"hide-focus\" : \"\"));\n\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\tattr(button0, \"aria-describedby\", \"skintone-description\");\n\t\t\tattr(button0, \"aria-haspopup\", \"listbox\");\n\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[11]);\n\t\t\tattr(button0, \"aria-controls\", \"skintone-list\");\n\n\t\t\tattr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[12]\n\t\t\t? \"expanded\"\n\t\t\t: \"\"));\n\n\t\t\tattr(span1, \"id\", \"skintone-description\");\n\t\t\tattr(span1, \"class\", \"sr-only\");\n\t\t\tattr(div3, \"id\", \"skintone-list\");\n\n\t\t\tattr(div3, \"class\", div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"\"\n\t\t\t: \"hidden no-animate\"));\n\n\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? 0\n\t\t\t: \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n\n\t\t\tattr(div3, \"role\", \"listbox\");\n\t\t\tattr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[15]);\n\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[11]);\n\t\t\tattr(div4, \"class\", \"search-row\");\n\t\t\tattr(div5, \"class\", \"nav\");\n\t\t\tattr(div5, \"role\", \"tablist\");\n\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[22].length + \", 1fr)\");\n\t\t\tattr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n\t\t\tattr(div6, \"class\", \"indicator\");\n\t\t\tattr(div6, \"style\", /*indicatorStyle*/ ctx[10]);\n\t\t\tattr(div7, \"class\", \"indicator-wrapper\");\n\t\t\tattr(div8, \"class\", div8_class_value = \"message \" + (/*message*/ ctx[9] ? \"\" : \"gone\"));\n\t\t\tattr(div8, \"role\", \"alert\");\n\t\t\tattr(div8, \"aria-live\", \"polite\");\n\n\t\t\tattr(div9, \"class\", div9_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[24] || /*message*/ ctx[9]\n\t\t\t? \"gone\"\n\t\t\t: \"\"));\n\n\t\t\tattr(div9, \"role\", div9_role_value = /*searchMode*/ ctx[7] ? \"region\" : \"tabpanel\");\n\n\t\t\tattr(div9, \"aria-label\", div9_aria_label_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]);\n\n\t\t\tattr(div9, \"id\", div9_id_value = /*searchMode*/ ctx[7]\n\t\t\t? \"\"\n\t\t\t: `tab-${/*currentGroup*/ ctx[23].id}`);\n\n\t\t\tattr(div9, \"tabindex\", \"0\");\n\t\t\tattr(div10, \"class\", div10_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[9] ? \"gone\" : \"\"));\n\t\t\tattr(div10, \"role\", \"menu\");\n\t\t\tattr(div10, \"aria-label\", div10_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n\t\t\tset_style(div10, \"padding-right\", /*scrollbarWidth*/ ctx[21] + \"px\");\n\t\t\tattr(button1, \"aria-hidden\", \"true\");\n\t\t\tattr(button1, \"tabindex\", \"-1\");\n\t\t\tattr(button1, \"class\", \"abs-pos hidden emoji\");\n\t\t\tattr(section, \"class\", \"picker\");\n\t\t\tattr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[17]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, div0);\n\t\t\tappend(section, div4);\n\t\t\tappend(div4, div1);\n\t\t\tappend(div1, input);\n\t\t\tset_input_value(input, /*rawSearchText*/ ctx[3]);\n\t\t\tappend(div1, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div1, span0);\n\t\t\tappend(span0, t1);\n\t\t\tappend(div4, div2);\n\t\t\tappend(div2, button0);\n\t\t\tappend(button0, t2);\n\t\t\tappend(div4, span1);\n\t\t\tappend(span1, t3);\n\t\t\tappend(div4, div3);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].m(div3, null);\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[46](div3);\n\t\t\tappend(section, div5);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div5, null);\n\t\t\t}\n\n\t\t\tappend(section, div7);\n\t\t\tappend(div7, div6);\n\t\t\tappend(section, div8);\n\t\t\tappend(div8, t4);\n\t\t\tappend(section, div9);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div9, null);\n\t\t\t}\n\n\t\t\t/*div9_binding*/ ctx[48](div9);\n\t\t\tappend(section, div10);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div10, null);\n\t\t\t}\n\n\t\t\tappend(section, button1);\n\t\t\t/*button1_binding*/ ctx[49](button1);\n\t\t\t/*section_binding*/ ctx[50](section);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[45]),\n\t\t\t\t\tlisten(input, \"keydown\", /*onSearchKeydown*/ ctx[30]),\n\t\t\t\t\tlisten(button0, \"click\", /*onClickSkinToneButton*/ ctx[35]),\n\t\t\t\t\tlisten(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[38]),\n\t\t\t\t\tlisten(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[34]),\n\t\t\t\t\tlisten(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[36]),\n\t\t\t\t\tlisten(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[37]),\n\t\t\t\t\tlisten(div5, \"keydown\", /*onNavKeydown*/ ctx[32]),\n\t\t\t\t\taction_destroyer(calculateIndicatorWidth_action = /*calculateIndicatorWidth*/ ctx[29].call(null, div6)),\n\t\t\t\t\tlisten(div9, \"click\", /*onEmojiClick*/ ctx[33]),\n\t\t\t\t\tlisten(div10, \"click\", /*onEmojiClick*/ ctx[33])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) {\n\t\t\t\tattr(input, \"placeholder\", input_placeholder_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojis*/ 130 && input_aria_expanded_value !== (input_aria_expanded_value = !!(/*searchMode*/ ctx[7] && /*currentEmojis*/ ctx[1].length))) {\n\t\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSearchItemId*/ 33554432 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[25]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[25]}`\n\t\t\t: \"\")) {\n\t\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*rawSearchText*/ 8) {\n\t\t\t\tset_input_value(input, /*rawSearchText*/ ctx[3]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) set_data(t0, t0_value);\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) set_data(t1, t1_value);\n\t\t\tif (dirty[0] & /*skinToneButtonText*/ 65536) set_data(t2, /*skinToneButtonText*/ ctx[16]);\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && button0_class_value !== (button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[11] ? \"hide-focus\" : \"\"))) {\n\t\t\t\tattr(button0, \"class\", button0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 262144) {\n\t\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 262144) {\n\t\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048) {\n\t\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[11]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 4096 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[12]\n\t\t\t? \"expanded\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div2, \"class\", div2_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 557057) {\n\t\t\t\tconst each_value_4 = /*skinTones*/ ctx[19];\n\t\t\t\teach_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_class_value !== (div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"\"\n\t\t\t: \"hidden no-animate\"))) {\n\t\t\t\tattr(div3, \"class\", div3_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048) {\n\t\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t\t? 0\n\t\t\t\t: \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) {\n\t\t\t\tattr(div3, \"aria-label\", div3_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSkinTone*/ 32768 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[15])) {\n\t\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[11])) {\n\t\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups, i18n, searchMode, currentGroup*/ 12583041 | dirty[1] & /*onNavClick*/ 1) {\n\t\t\t\tconst each_value_3 = /*groups*/ ctx[22];\n\t\t\t\teach_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups*/ 4194304) {\n\t\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[22].length + \", 1fr)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) {\n\t\t\t\tattr(div5, \"aria-label\", div5_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*indicatorStyle*/ 1024) {\n\t\t\t\tattr(div6, \"style\", /*indicatorStyle*/ ctx[10]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 512) set_data(t4, /*message*/ ctx[9]);\n\n\t\t\tif (dirty[0] & /*message*/ 512 && div8_class_value !== (div8_class_value = \"message \" + (/*message*/ ctx[9] ? \"\" : \"gone\"))) {\n\t\t\t\tattr(div8, \"class\", div8_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin, i18n, currentGroup*/ 209731973) {\n\t\t\t\tconst each_value_1 = /*currentEmojisWithCategories*/ ctx[2];\n\t\t\t\teach_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*databaseLoaded, message*/ 16777728 && div9_class_value !== (div9_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[24] || /*message*/ ctx[9]\n\t\t\t? \"gone\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div9, \"class\", div9_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div9_role_value !== (div9_role_value = /*searchMode*/ ctx[7] ? \"region\" : \"tabpanel\")) {\n\t\t\t\tattr(div9, \"role\", div9_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentGroup*/ 8388737 && div9_aria_label_value !== (div9_aria_label_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name])) {\n\t\t\t\tattr(div9, \"aria-label\", div9_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup*/ 8388736 && div9_id_value !== (div9_id_value = /*searchMode*/ ctx[7]\n\t\t\t? \"\"\n\t\t\t: `tab-${/*currentGroup*/ ctx[23].id}`)) {\n\t\t\t\tattr(div9, \"id\", div9_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone, unicodeWithSkin*/ 202391552) {\n\t\t\t\tconst each_value = /*currentFavorites*/ ctx[20];\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div10, destroy_block, create_each_block, null, get_each_context);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 512 && div10_class_value !== (div10_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[9] ? \"gone\" : \"\"))) {\n\t\t\t\tattr(div10, \"class\", div10_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div10_aria_label_value !== (div10_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) {\n\t\t\t\tattr(div10, \"aria-label\", div10_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*scrollbarWidth*/ 2097152) {\n\t\t\t\tset_style(div10, \"padding-right\", /*scrollbarWidth*/ ctx[21] + \"px\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) {\n\t\t\t\tattr(section, \"aria-label\", section_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*pickerStyle*/ 131072) {\n\t\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[17]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].d();\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[46](null);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].d();\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].d();\n\t\t\t}\n\n\t\t\t/*div9_binding*/ ctx[48](null);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\t/*button1_binding*/ ctx[49](null);\n\t\t\t/*section_binding*/ ctx[50](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { locale = null } = $$props;\n\tlet { dataSource = null } = $$props;\n\tlet { skinToneEmoji = DEFAULT_SKIN_TONE_EMOJI } = $$props;\n\tlet { i18n = enI18n } = $$props;\n\tlet { database = null } = $$props;\n\tlet { customEmoji = null } = $$props;\n\tlet { customCategorySorting = (a, b) => a < b ? -1 : a > b ? 1 : 0 } = $$props;\n\n\t// private\n\tlet initialLoad = true;\n\n\tlet currentEmojis = [];\n\tlet currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n\tlet rawSearchText = \"\";\n\tlet searchText = \"\";\n\tlet rootElement;\n\tlet baselineEmoji;\n\tlet tabpanelElement;\n\tlet searchMode = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItem = -1;\n\tlet message; // eslint-disable-line no-unused-vars\n\tlet computedIndicatorWidth = 0;\n\tlet indicatorStyle = \"\"; // eslint-disable-line no-unused-vars\n\tlet skinTonePickerExpanded = false;\n\tlet skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n\tlet skinToneDropdown;\n\tlet currentSkinTone = 0;\n\tlet activeSkinTone = 0;\n\tlet skinToneButtonText; // eslint-disable-line no-unused-vars\n\tlet pickerStyle; // eslint-disable-line no-unused-vars\n\tlet skinToneButtonLabel = \"\"; // eslint-disable-line no-unused-vars\n\tlet skinTones = [];\n\tlet currentFavorites = []; // eslint-disable-line no-unused-vars\n\tlet defaultFavoriteEmojis;\n\tlet numColumns = DEFAULT_NUM_COLUMNS;\n\tlet scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n\tlet currentGroupIndex = 0;\n\tlet groups$1 = groups;\n\tlet currentGroup;\n\tlet databaseLoaded = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItemId; // eslint-disable-line no-unused-vars\n\n\t//\n\t// Utils/helpers\n\t//\n\tconst focus = id => {\n\t\trootElement.getRootNode().getElementById(id).focus();\n\t};\n\n\t// fire a custom event that crosses the shadow boundary\n\tconst fireEvent = (name, detail) => {\n\t\trootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n\t};\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst unicodeWithSkin = (emoji, currentSkinTone) => currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst labelWithSkin = (emoji, currentSkinTone) => uniq([\n\t\temoji.name || unicodeWithSkin(emoji, currentSkinTone),\n\t\t...emoji.shortcodes || []\n\t]).join(\", \");\n\n\t// Detect a skintone option button\n\tconst isSkinToneOption = element => (/^skintone-/).test(element.id);\n\n\t//\n\t// Determine the emoji support level (in requestIdleCallback)\n\t//\n\temojiSupportLevelPromise.then(level => {\n\t\t// Can't actually test emoji support in Jest/JSDom, emoji never render in color in Cairo\n\t\t/* istanbul ignore next */\n\t\tif (!level) {\n\t\t\t$$invalidate(9, message = i18n.emojiUnsupportedMessage);\n\t\t}\n\t});\n\n\t// TODO: this is a bizarre way to set these default properties, but currently Svelte\n\t// renders custom elements in an odd way - props are not set when calling the constructor,\n\t// but are only set later. This would cause a double render or a double-fetch of\n\t// the dataSource, which is bad. Delaying with a microtask avoids this.\n\t// See https://github.com/sveltejs/svelte/pull/4527\n\tonMount(async () => {\n\t\tawait tick();\n\t\t$$invalidate(39, locale = locale || DEFAULT_LOCALE);\n\t\t$$invalidate(40, dataSource = dataSource || DEFAULT_DATA_SOURCE);\n\t});\n\n\tonDestroy(async () => {\n\t\tif (database) {\n\n\t\t\ttry {\n\t\t\t\tawait database.close();\n\t\t\t} catch(err) {\n\t\t\t\tlogError(err); // only happens if the database failed to load in the first place, so we don't care\n\t\t\t}\n\t\t}\n\t});\n\n\t//\n\t// Calculate the width of the emoji grid. This serves two purposes:\n\t// 1) Re-calculate the --num-columns var because it may have changed\n\t// 2) Re-calculate the scrollbar width because it may have changed\n\t//   (i.e. because the number of items changed)\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateEmojiGridWidth(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t/* istanbul ignore next */\n\t\t\tconst newNumColumns = \"production\" === \"test\"\n\t\t\t? DEFAULT_NUM_COLUMNS\n\t\t\t: parseInt(getComputedStyle(rootElement).getPropertyValue(\"--num-columns\"), 10);\n\n\t\t\t/* istanbul ignore next */\n\t\t\tconst parentWidth = \"production\" === \"test\"\n\t\t\t? 1\n\t\t\t: node.parentElement.getBoundingClientRect().width; // jsdom throws an error here occasionally\n\n\t\t\tconst newScrollbarWidth = parentWidth - width;\n\t\t\t$$invalidate(55, numColumns = newNumColumns);\n\t\t\t$$invalidate(21, scrollbarWidth = newScrollbarWidth); // eslint-disable-line no-unused-vars\n\t\t});\n\t}\n\n\t//\n\t// Animate the indicator\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateIndicatorWidth(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t$$invalidate(53, computedIndicatorWidth = width);\n\t\t});\n\t}\n\n\tfunction checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n\t\tconst rootNode = rootElement.getRootNode();\n\t\tconst emojiToDomNode = emoji => rootNode.getElementById(`emo-${emoji.id}`);\n\t\tcheckZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n\n\t\t// force update\n\t\t$$invalidate(1, currentEmojis = currentEmojis); // eslint-disable-line no-self-assign\n\t}\n\n\tfunction isZwjSupported(emoji) {\n\t\treturn !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n\t}\n\n\tasync function filterEmojisByVersion(emojis) {\n\t\tconst emojiSupportLevel = await emojiSupportLevelPromise;\n\n\t\t// !version corresponds to custom emoji\n\t\treturn emojis.filter(({ version }) => !version || version <= emojiSupportLevel);\n\t}\n\n\tasync function summarizeEmojis(emojis) {\n\t\treturn summarizeEmojisForUI(emojis, await emojiSupportLevelPromise);\n\t}\n\n\tasync function getEmojisByGroup(group) {\n\n\t\tif (typeof group === \"undefined\") {\n\t\t\treturn [];\n\t\t}\n\n\t\t// -1 is custom emoji\n\t\tconst emoji = group === -1\n\t\t? customEmoji\n\t\t: await database.getEmojiByGroup(group);\n\n\t\treturn summarizeEmojis(await filterEmojisByVersion(emoji));\n\t}\n\n\tasync function getEmojisBySearchQuery(query) {\n\t\treturn summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSearchKeydown(event) {\n\t\tif (!searchMode || !currentEmojis.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(8, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase \"ArrowUp\":\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase \"Enter\":\n\t\t\t\tif (activeSearchItem !== -1) {\n\t\t\t\t\thalt(event);\n\t\t\t\t\treturn clickEmoji(currentEmojis[activeSearchItem].id);\n\t\t\t\t} else if (currentEmojis.length) {\n\t\t\t\t\t$$invalidate(8, activeSearchItem = 0);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on nav\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavClick(group) {\n\t\t$$invalidate(3, rawSearchText = \"\");\n\t\t$$invalidate(52, searchText = \"\");\n\t\t$$invalidate(8, activeSearchItem = -1);\n\t\t$$invalidate(56, currentGroupIndex = groups$1.findIndex(_ => _.id === group.id));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavKeydown(event) {\n\t\tconst { target, key } = event;\n\n\t\tconst doFocus = el => {\n\t\t\tif (el) {\n\t\t\t\thalt(event);\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t};\n\n\t\tswitch (key) {\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\treturn doFocus(target.previousSibling);\n\t\t\tcase \"ArrowRight\":\n\t\t\t\treturn doFocus(target.nextSibling);\n\t\t\tcase \"Home\":\n\t\t\t\treturn doFocus(target.parentElement.firstChild);\n\t\t\tcase \"End\":\n\t\t\t\treturn doFocus(target.parentElement.lastChild);\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on an emoji\n\t//\n\tasync function clickEmoji(unicodeOrName) {\n\t\tconst emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n\t\tconst emojiSummary = [...currentEmojis, ...currentFavorites].find(_ => _.id === unicodeOrName);\n\t\tconst skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n\t\tawait database.incrementFavoriteEmojiCount(unicodeOrName);\n\n\t\t// eslint-disable-next-line no-self-assign\n\t\t$$invalidate(54, defaultFavoriteEmojis = defaultFavoriteEmojis); // force favorites to re-render\n\n\t\tfireEvent(\"emoji-click\", {\n\t\t\temoji,\n\t\t\tskinTone: currentSkinTone,\n\t\t\t...skinTonedUnicode && { unicode: skinTonedUnicode },\n\t\t\t...emojiSummary.name && { name: emojiSummary.name }\n\t\t});\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onEmojiClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains(\"emoji\")) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n\n\t\t/* no await */\n\t\tclickEmoji(id);\n\t}\n\n\t//\n\t// Handle user input on the skintone picker\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!isSkinToneOption(target)) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst skinTone = parseInt(target.id.slice(9), 10); // remove 'skintone-' prefix\n\t\t$$invalidate(14, currentSkinTone = skinTone);\n\t\t$$invalidate(11, skinTonePickerExpanded = false);\n\t\tfocus(\"skintone-button\");\n\t\tfireEvent(\"skin-tone-change\", { skinTone });\n\n\t\t/* no await */\n\t\tdatabase.setPreferredSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onClickSkinToneButton(event) {\n\t\t$$invalidate(11, skinTonePickerExpanded = !skinTonePickerExpanded);\n\t\t$$invalidate(15, activeSkinTone = currentSkinTone);\n\n\t\tif (skinTonePickerExpanded) {\n\t\t\thalt(event);\n\t\t\trAF(() => focus(`skintone-${activeSkinTone}`));\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeydown(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst changeActiveSkinTone = async nextSkinTone => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(15, activeSkinTone = nextSkinTone);\n\t\t\tawait tick();\n\t\t\tfocus(`skintone-${activeSkinTone}`);\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowUp\":\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(true, activeSkinTone, skinTones));\n\t\t\tcase \"ArrowDown\":\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(false, activeSkinTone, skinTones));\n\t\t\tcase \"Home\":\n\t\t\t\treturn changeActiveSkinTone(0);\n\t\t\tcase \"End\":\n\t\t\t\treturn changeActiveSkinTone(skinTones.length - 1);\n\t\t\tcase \"Enter\":\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t\tcase \"Escape\":\n\t\t\t\thalt(event);\n\t\t\t\treturn focus(\"skintone-button\");\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeyup(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase \" \":\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsFocusOut(event) {\n\t\t// On blur outside of the skintone options, collapse the skintone picker.\n\t\t// Except if focus is just moving to another skintone option, e.g. pressing up/down to change focus\n\t\tconst { relatedTarget } = event;\n\n\t\tif (!relatedTarget || !isSkinToneOption(relatedTarget)) {\n\t\t\t$$invalidate(11, skinTonePickerExpanded = false);\n\t\t}\n\t}\n\n\tfunction input_input_handler() {\n\t\trawSearchText = this.value;\n\t\t$$invalidate(3, rawSearchText);\n\t}\n\n\tfunction div3_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\tskinToneDropdown = $$value;\n\t\t\t$$invalidate(13, skinToneDropdown);\n\t\t});\n\t}\n\n\tconst click_handler = group => onNavClick(group);\n\n\tfunction div9_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\ttabpanelElement = $$value;\n\t\t\t(((((((((((($$invalidate(6, tabpanelElement), $$invalidate(1, currentEmojis)), $$invalidate(24, databaseLoaded)), $$invalidate(52, searchText)), $$invalidate(23, currentGroup)), $$invalidate(0, i18n)), $$invalidate(41, database)), $$invalidate(3, rawSearchText)), $$invalidate(22, groups$1)), $$invalidate(56, currentGroupIndex)), $$invalidate(39, locale)), $$invalidate(40, dataSource)), $$invalidate(43, customEmoji));\n\t\t});\n\t}\n\n\tfunction button1_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\tbaselineEmoji = $$value;\n\t\t\t$$invalidate(5, baselineEmoji);\n\t\t});\n\t}\n\n\tfunction section_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\trootElement = $$value;\n\t\t\t$$invalidate(4, rootElement);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif (\"locale\" in $$props) $$invalidate(39, locale = $$props.locale);\n\t\tif (\"dataSource\" in $$props) $$invalidate(40, dataSource = $$props.dataSource);\n\t\tif (\"skinToneEmoji\" in $$props) $$invalidate(42, skinToneEmoji = $$props.skinToneEmoji);\n\t\tif (\"i18n\" in $$props) $$invalidate(0, i18n = $$props.i18n);\n\t\tif (\"database\" in $$props) $$invalidate(41, database = $$props.database);\n\t\tif (\"customEmoji\" in $$props) $$invalidate(43, customEmoji = $$props.customEmoji);\n\t\tif (\"customCategorySorting\" in $$props) $$invalidate(44, customCategorySorting = $$props.customCategorySorting);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty[1] & /*locale, dataSource, database*/ 1792) {\n\t\t\t {\n\t\t\t\tif (locale && dataSource && (!database || database.locale !== locale && database.dataSource !== dataSource)) {\n\t\t\t\t\t$$invalidate(41, database = new Database({ dataSource, locale }));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*customEmoji, database*/ 5120) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the customEmoji\n\t\t\t//\n\t\t\t {\n\t\t\t\tif (customEmoji && database) {\n\t\t\t\t\t$$invalidate(41, database.customEmoji = customEmoji, database);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n*/ 1 | $$self.$$.dirty[1] & /*database*/ 1024) {\n\t\t\t//\n\t\t\t// Set or update the database object\n\t\t\t//\n\t\t\t {\n\t\t\t\t// show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n\t\t\t\tasync function handleDatabaseLoading() {\n\t\t\t\t\tlet showingLoadingMessage = false;\n\n\t\t\t\t\tconst timeoutHandle = setTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tshowingLoadingMessage = true;\n\t\t\t\t\t\t\t$$invalidate(9, message = i18n.loadingMessage);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTIMEOUT_BEFORE_LOADING_MESSAGE\n\t\t\t\t\t);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait database.ready();\n\t\t\t\t\t\t$$invalidate(24, databaseLoaded = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tlogError(err);\n\t\t\t\t\t\t$$invalidate(9, message = i18n.networkErrorMessage);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t\t\t\tif (showingLoadingMessage) {\n\t\t\t\t\t\t\t// Seems safer than checking the i18n string, which may change\n\t\t\t\t\t\t\tshowingLoadingMessage = false;\n\n\t\t\t\t\t\t\t$$invalidate(9, message = \"\"); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\thandleDatabaseLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups*/ 4194304 | $$self.$$.dirty[1] & /*customEmoji*/ 4096) {\n\t\t\t {\n\t\t\t\tif (customEmoji && customEmoji.length) {\n\t\t\t\t\t$$invalidate(22, groups$1 = [customGroup, ...groups]);\n\t\t\t\t} else if (groups$1 !== groups) {\n\t\t\t\t\t$$invalidate(22, groups$1 = groups);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*rawSearchText*/ 8) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Handle user input on the search input\n\t\t\t//\n\t\t\t {\n\t\t\t\trIC(() => {\n\t\t\t\t\t$$invalidate(52, searchText = (rawSearchText || \"\").trim()); // defer to avoid input delays, plus we can trim here\n\t\t\t\t\t$$invalidate(8, activeSearchItem = -1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups*/ 4194304 | $$self.$$.dirty[1] & /*currentGroupIndex*/ 33554432) {\n\t\t\t//\n\t\t\t// Update the current group based on the currentGroupIndex\n\t\t\t//\n\t\t\t $$invalidate(23, currentGroup = groups$1[currentGroupIndex]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded, currentGroup*/ 25165824 | $$self.$$.dirty[1] & /*searchText*/ 2097152) {\n\t\t\t//\n\t\t\t// Set or update the currentEmojis. Check for invalid ZWJ renderings\n\t\t\t// (i.e. double emoji).\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updateEmojis() {\n\n\t\t\t\t\tif (!databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = []);\n\t\t\t\t\t\t$$invalidate(7, searchMode = false);\n\t\t\t\t\t} else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n\t\t\t\t\t\tconst currentSearchText = searchText;\n\t\t\t\t\t\tconst newEmojis = await getEmojisBySearchQuery(currentSearchText);\n\n\t\t\t\t\t\tif (currentSearchText === searchText) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(7, searchMode = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (currentGroup) {\n\t\t\t\t\t\tconst currentGroupId = currentGroup.id;\n\t\t\t\t\t\tconst newEmojis = await getEmojisByGroup(currentGroupId);\n\n\t\t\t\t\t\tif (currentGroupId === currentGroup.id) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(7, searchMode = false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdateEmojis();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, searchMode*/ 4194432) {\n\t\t\t//\n\t\t\t// Global styles for the entire picker\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t $$invalidate(17, pickerStyle = `\n  --font-family: ${FONT_FAMILY};\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16777216 | $$self.$$.dirty[1] & /*database*/ 1024) {\n\t\t\t//\n\t\t\t// Set or update the preferred skin tone\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updatePreferredSkinTone() {\n\t\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(14, currentSkinTone = await database.getPreferredSkinTone());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdatePreferredSkinTone();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*skinToneEmoji*/ 2048) {\n\t\t\t $$invalidate(19, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 540672) {\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t $$invalidate(16, skinToneButtonText = skinTones[currentSkinTone]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 16385) {\n\t\t\t $$invalidate(18, skinToneButtonLabel = i18n.skinToneLabel.replace(\"{skinTone}\", i18n.skinTones[currentSkinTone]));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16777216 | $$self.$$.dirty[1] & /*database*/ 1024) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the favorites emojis\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updateDefaultFavoriteEmojis() {\n\t\t\t\t\t$$invalidate(54, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map(unicode => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateDefaultFavoriteEmojis();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16777216 | $$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 25166848) {\n\t\t\t {\n\t\t\t\tasync function updateFavorites() {\n\t\t\t\t\tconst dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n\t\t\t\t\tconst favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], _ => _.unicode || _.name).slice(0, numColumns));\n\t\t\t\t\t$$invalidate(20, currentFavorites = favorites);\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded && defaultFavoriteEmojis) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateFavorites();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*currentGroupIndex, computedIndicatorWidth*/ 37748736) {\n\t\t\t// TODO: Chrome has an unfortunate bug where we can't use a simple percent-based transform\n\t\t\t// here, becuause it's janky. You can especially see this on a Nexus 5.\n\t\t\t// So we calculate of the indicator and use exact pixel values in the animation instead\n\t\t\t// (where ResizeObserver is supported).\n\t\t\t {\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(10, indicatorStyle = `transform: translateX(${resizeObserverSupported\n\t\t\t\t? `${currentGroupIndex * computedIndicatorWidth}px`\n\t\t\t\t: `${currentGroupIndex * 100}%`})`); // exact pixels\n\t\t\t\t// fallback to percent-based\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis*/ 2) {\n\t\t\t// Some emojis have their ligatures rendered as two or more consecutive emojis\n\t\t\t// We want to treat these the same as unsupported emojis, so we compare their\n\t\t\t// widths against the baseline widths and remove them as necessary\n\t\t\t {\n\t\t\t\tconst zwjEmojisToCheck = currentEmojis.filter(emoji => emoji.unicode).filter(emoji => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n\n\t\t\t\tif (zwjEmojisToCheck.length) {\n\t\t\t\t\t// render now, check their length later\n\t\t\t\t\trAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(1, currentEmojis = currentEmojis.filter(isZwjSupported));\n\n\t\t\t\t\trAF(() => {\n\t\t\t\t\t\t// reset scroll top to 0 when emojis change\n\t\t\t\t\t\t$$invalidate(6, tabpanelElement.scrollTop = 0, tabpanelElement);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, currentFavorites*/ 1048578 | $$self.$$.dirty[1] & /*initialLoad*/ 1048576) {\n\t\t\t {\n\t\t\t\t// consider initialLoad to be complete when the first tabpanel and favorites are rendered\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (\"production\" !== \"production\" || false) {\n\t\t\t\t\tif (currentEmojis.length && currentFavorites.length && initialLoad) {\n\t\t\t\t\t\t$$invalidate(51, initialLoad = false);\n\t\t\t\t\t\trequestPostAnimationFrame(() => stop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 130 | $$self.$$.dirty[1] & /*customCategorySorting*/ 8192) {\n\t\t\t//\n\t\t\t// Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n\t\t\t// are no categories, because it's just easier to code the HTML this way.\n\t\t\t//\n\t\t\t {\n\t\t\t\tfunction calculateCurrentEmojisWithCategories() {\n\t\t\t\t\tif (searchMode) {\n\t\t\t\t\t\treturn [{ category: \"\", emojis: currentEmojis }];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst categoriesToEmoji = new Map();\n\n\t\t\t\t\tfor (const emoji of currentEmojis) {\n\t\t\t\t\t\tconst category = emoji.category || \"\";\n\t\t\t\t\t\tlet emojis = categoriesToEmoji.get(category);\n\n\t\t\t\t\t\tif (!emojis) {\n\t\t\t\t\t\t\temojis = [];\n\t\t\t\t\t\t\tcategoriesToEmoji.set(category, emojis);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\temojis.push(emoji);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => customCategorySorting(a.category, b.category));\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(2, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 258) {\n\t\t\t//\n\t\t\t// Handle active search item (i.e. pressing up or down while searching)\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t $$invalidate(25, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 10240) {\n\t\t\t// To make the animation nicer, change the z-index of the skintone picker button\n\t\t\t// *after* the animation has played. This makes it appear that the picker box\n\t\t\t// is expanding \"below\" the button\n\t\t\t {\n\t\t\t\tif (skinTonePickerExpanded) {\n\t\t\t\t\tskinToneDropdown.addEventListener(\n\t\t\t\t\t\t\"transitionend\",\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(12, skinTonePickerExpandedAfterAnimation = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(12, skinTonePickerExpandedAfterAnimation = false); // eslint-disable-line no-unused-vars\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\ti18n,\n\t\tcurrentEmojis,\n\t\tcurrentEmojisWithCategories,\n\t\trawSearchText,\n\t\trootElement,\n\t\tbaselineEmoji,\n\t\ttabpanelElement,\n\t\tsearchMode,\n\t\tactiveSearchItem,\n\t\tmessage,\n\t\tindicatorStyle,\n\t\tskinTonePickerExpanded,\n\t\tskinTonePickerExpandedAfterAnimation,\n\t\tskinToneDropdown,\n\t\tcurrentSkinTone,\n\t\tactiveSkinTone,\n\t\tskinToneButtonText,\n\t\tpickerStyle,\n\t\tskinToneButtonLabel,\n\t\tskinTones,\n\t\tcurrentFavorites,\n\t\tscrollbarWidth,\n\t\tgroups$1,\n\t\tcurrentGroup,\n\t\tdatabaseLoaded,\n\t\tactiveSearchItemId,\n\t\tunicodeWithSkin,\n\t\tlabelWithSkin,\n\t\tcalculateEmojiGridWidth,\n\t\tcalculateIndicatorWidth,\n\t\tonSearchKeydown,\n\t\tonNavClick,\n\t\tonNavKeydown,\n\t\tonEmojiClick,\n\t\tonSkinToneOptionsClick,\n\t\tonClickSkinToneButton,\n\t\tonSkinToneOptionsKeydown,\n\t\tonSkinToneOptionsKeyup,\n\t\tonSkinToneOptionsFocusOut,\n\t\tlocale,\n\t\tdataSource,\n\t\tdatabase,\n\t\tskinToneEmoji,\n\t\tcustomEmoji,\n\t\tcustomCategorySorting,\n\t\tinput_input_handler,\n\t\tdiv3_binding,\n\t\tclick_handler,\n\t\tdiv9_binding,\n\t\tbutton1_binding,\n\t\tsection_binding\n\t];\n}\n\nclass Picker extends SvelteElement {\n\tconstructor(options) {\n\t\tsuper();\n\t\tthis.shadowRoot.innerHTML = `<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>`;\n\n\t\tinit(\n\t\t\tthis,\n\t\t\t{ target: this.shadowRoot },\n\t\t\tinstance,\n\t\t\tcreate_fragment,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tlocale: 39,\n\t\t\t\tdataSource: 40,\n\t\t\t\tskinToneEmoji: 42,\n\t\t\t\ti18n: 0,\n\t\t\t\tdatabase: 41,\n\t\t\t\tcustomEmoji: 43,\n\t\t\t\tcustomCategorySorting: 44\n\t\t\t},\n\t\t\t[-1, -1, -1]\n\t\t);\n\n\t\tif (options) {\n\t\t\tif (options.target) {\n\t\t\t\tinsert(options.target, this, options.anchor);\n\t\t\t}\n\n\t\t\tif (options.props) {\n\t\t\t\tthis.$set(options.props);\n\t\t\t\tflush();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn [\n\t\t\t\"locale\",\n\t\t\t\"dataSource\",\n\t\t\t\"skinToneEmoji\",\n\t\t\t\"i18n\",\n\t\t\t\"database\",\n\t\t\t\"customEmoji\",\n\t\t\t\"customCategorySorting\"\n\t\t];\n\t}\n\n\tget locale() {\n\t\treturn this.$$.ctx[39];\n\t}\n\n\tset locale(locale) {\n\t\tthis.$set({ locale });\n\t\tflush();\n\t}\n\n\tget dataSource() {\n\t\treturn this.$$.ctx[40];\n\t}\n\n\tset dataSource(dataSource) {\n\t\tthis.$set({ dataSource });\n\t\tflush();\n\t}\n\n\tget skinToneEmoji() {\n\t\treturn this.$$.ctx[42];\n\t}\n\n\tset skinToneEmoji(skinToneEmoji) {\n\t\tthis.$set({ skinToneEmoji });\n\t\tflush();\n\t}\n\n\tget i18n() {\n\t\treturn this.$$.ctx[0];\n\t}\n\n\tset i18n(i18n) {\n\t\tthis.$set({ i18n });\n\t\tflush();\n\t}\n\n\tget database() {\n\t\treturn this.$$.ctx[41];\n\t}\n\n\tset database(database) {\n\t\tthis.$set({ database });\n\t\tflush();\n\t}\n\n\tget customEmoji() {\n\t\treturn this.$$.ctx[43];\n\t}\n\n\tset customEmoji(customEmoji) {\n\t\tthis.$set({ customEmoji });\n\t\tflush();\n\t}\n\n\tget customCategorySorting() {\n\t\treturn this.$$.ctx[44];\n\t}\n\n\tset customCategorySorting(customCategorySorting) {\n\t\tthis.$set({ customCategorySorting });\n\t\tflush();\n\t}\n}\n\nclass Picker$1 extends Picker {\n  constructor (props) {\n    // Make the API simpler, directly pass in the props\n    super({ props });\n  }\n\n  disconnectedCallback () {\n    this.$destroy();\n  }\n\n  static get observedAttributes () {\n    return ['locale', 'data-source', 'skin-tone-emoji'] // complex objects aren't supported, also use kebab-case\n  }\n\n  // via https://github.com/sveltejs/svelte/issues/3852#issuecomment-665037015\n  attributeChangedCallback (attrName, oldValue, newValue) {\n    super.attributeChangedCallback(\n      attrName.replace(/-([a-z])/g, (_, up) => up.toUpperCase()),\n      oldValue,\n      newValue\n    );\n  }\n}\n\ncustomElements.define('emoji-picker', Picker$1);\n\nexport default Picker$1;\n","var map = {\n\t\"./g1.png\": \"d65c\",\n\t\"./g2.png\": \"dd4b\",\n\t\"./g3.png\": \"2d0b\",\n\t\"./t1.jpg\": \"70aa\",\n\t\"./t10.png\": \"fb3a\",\n\t\"./t12.png\": \"90db\",\n\t\"./t2.jpg\": \"dc58\",\n\t\"./t3.jpg\": \"27b2\",\n\t\"./t4.jpg\": \"9cf5\",\n\t\"./t5.png\": \"323c\",\n\t\"./t6.png\": \"c78e\",\n\t\"./t7.png\": \"7f92\",\n\t\"./t8.png\": \"4ebb\",\n\t\"./t9.png\": \"3166\",\n\t\"./w.png\": \"cd0f\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"9549\";","import Styled from 'vue3-styled-components';\r\n\r\nconst ChatWrapper = Styled.div`\r\n  .create-action{\r\n    padding: 0 25px;\r\n    margin: 25px 0 18px;\r\n    @media only screen and (max-width: 379px){\r\n      padding: 0 20px;\r\n    }\r\n    .btn-add{\r\n      width: 100%;\r\n      height: 44px;\r\n      text-align: center;\r\n      border: 1px solid ${({ theme }) => theme['border-color-light']};\r\n      background: ${({ theme }) => theme['bg-color-light']};\r\n      color: ${({ theme }) => theme['gray-color']};\r\n      svg,\r\n      img,\r\n      i{\r\n        ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 4px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UL = Styled.ul`\r\n  list-style-type: none;\r\n  li {\r\n    display: inline-block;\r\n    padding: 5px;\r\n  }\r\n`;\r\n\r\nconst Content = Styled.div`\r\n  height: 495px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  ul{\r\n    overflow-x: hidden;\r\n  }\r\n  .chat-link-signle{\r\n    position: relative;\r\n    background: #fff;\r\n    border-radius: 4px;\r\n    width: 100%;\r\n    margin: 0;\r\n    &:before{\r\n      content: '';\r\n      position: absolute;\r\n      width: calc(100% + 20px);\r\n      height: 100%;\r\n      background: #fff;\r\n      right: -10px;\r\n      left: -10px;\r\n      box-shadow: 0 15px 50px ${({ theme }) => theme['light-color']}20;\r\n      border-radius: 4px;\r\n      visibility: hidden;\r\n      opacity: 0;\r\n      transition: 0.3s ease;\r\n      z-index: 1;\r\n    }\r\n    &:hover:before{\r\n      visibility: visible;\r\n      opacity: 1;\r\n    }\r\n    a{\r\n      display: flex;\r\n      padding: 20px 24px;\r\n      position: relative;\r\n      z-index: 1;\r\n    }\r\n    .author-figure{\r\n      ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 15px;\r\n      flex: .1;\r\n      img{\r\n        max-width: 46px;\r\n        border-radius: 50%;\r\n      }\r\n    }\r\n    .author-info{\r\n      ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 6px;\r\n      flex: .76;\r\n      .author-name{\r\n        font-weight: 600;\r\n        color: ${({ theme }) => theme['dark-color']};\r\n      }\r\n      .author-chatText{\r\n        color: ${({ theme }) => theme['light-color']};\r\n      }\r\n    }\r\n    .author-chatMeta{\r\n      flex: .18;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-end;\r\n      text-aling: right;\r\n      @media (max-width: 991px){\r\n        align-items: center;\r\n        justify-content: center;\r\n      }\r\n      span{\r\n        float: ${({ theme }) => (theme.rtl ? 'left' : 'right')};\r\n        font-size: 12px;\r\n        color: ${({ theme }) => theme['light-color']};\r\n      }\r\n      .ant-badge{\r\n        margin-top: 8px;\r\n        span{\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst BlockSpan = Styled.span`\r\n  display: block;\r\n`;\r\n\r\nconst SingleChatWrapper = Styled.div`\r\n  &.group-chat{\r\n    .chatbox-reply-form{\r\n      input{\r\n        background: #fff !important;\r\n        box-shadow: 0 5px 30px ${({ theme }) => theme['light-color']}15;\r\n      }\r\n    }\r\n  }\r\n  >.ant-card{\r\n    .ant-card-body{\r\n      padding: 25px 0 !important;\r\n    }\r\n  }\r\n  .ant-card-head{\r\n    padding: 0 30px !important;\r\n    box-shadow: 0 10px 20px ${({ theme }) => theme['extra-light-color']}15;\r\n    border: 0 none;\r\n    .ant-card-extra{\r\n      .ant-dropdown-trigger{\r\n        ${({ theme }) => (!theme.rtl ? 'margin-left' : 'margin-right')}: 0 !important;\r\n      }\r\n    }\r\n    .ant-card-head-title{\r\n      h1{\r\n        font-weight: 500;\r\n        margin-bottom: 6px;\r\n      }\r\n      p{\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        margin-bottom: 0;\r\n        color: ${({ theme }) => theme['light-color']};\r\n      }\r\n    }\r\n  }\r\n\r\n  .group-chat-header{\r\n    padding: 8px 0;\r\n    align-items: center;\r\n    width: 100%;\r\n    text-align: center;\r\n    @media only screen and (max-width: 479px){\r\n      flex-flow: column;\r\n    }\r\n    h1{\r\n      @media only screen and (max-width: 479px){\r\n        margin-bottom: 15px !important;\r\n      }\r\n    }\r\n    .members{\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      a{\r\n        :not(:last-child){\r\n          ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 4px;\r\n        }\r\n      }\r\n      img{\r\n        max-width: 30px;\r\n      }\r\n      .show-more,\r\n      .add-more{\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        display: inline-flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        span{\r\n          margin: 0;\r\n        }\r\n      }\r\n      .show-more{\r\n        background-color: ${({ theme }) => theme['primary-color']};\r\n        span{\r\n          font-size: 10px;\r\n          font-weight: 500;\r\n          color: #fff;\r\n        }\r\n      }\r\n      .add-more{\r\n        border: 1px dashed ${({ theme }) => theme['border-color-deep']};\r\n        span{\r\n          line-height: .4;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .atbd-chatbox{\r\n    height: 450px;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    .time-connector{\r\n      position: relative;\r\n      z-index: 10;\r\n      margin: -14px 0 15px;\r\n      &:after{\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 1px;\r\n        ${({ theme }) => (!theme.rtl ? 'left' : 'right')}: 0;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        background-color: ${({ theme }) => theme['border-color-light']};\r\n        content: '';\r\n        z-index: -1;\r\n      }\r\n      span{\r\n        text-transform: capitalize;\r\n        font-size: 13px;\r\n        padding: 0 24px;\r\n        background-color: #fff;\r\n        color: ${({ theme }) => theme['light-color']};\r\n      }\r\n    }\r\n    .atbd-chatbox__single{\r\n      padding: 0 25px;\r\n      &:not(:last-child){\r\n        margin-bottom: 30px;\r\n      }\r\n      &:last-child{\r\n        padding-bottom: 5px;\r\n      }\r\n      .left{\r\n        display: flex;\r\n        align-items: flex-start;\r\n        img{\r\n          max-width: 46px;\r\n          border-radius: 50%;\r\n          ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 15px;\r\n        }\r\n        .atbd-chatbox__content{\r\n          margin-top: -4px;\r\n        }\r\n        .message-box{\r\n          background: ${({ theme }) => theme['primary-color']};\r\n        }\r\n      }\r\n      .right{\r\n        float: ${({ theme }) => (theme.rtl ? 'left' : 'right')};\r\n        .atbd-chatbox__actions{\r\n          margin: ${({ theme }) => (theme.rtl ? '0 0 0 15px' : '0 15px 0 0')};\r\n        }\r\n        .atbd-chatbox__name{\r\n          text-align: ${({ theme }) => (theme.rtl ? 'left' : 'right')};\r\n        }\r\n        .message-box{\r\n\r\n          ${({ theme }) => (!theme.rtl ? 'border-radius: 15px 15px 0 15px;' : 'border-radius: 15px 15px 15px 0')};\r\n          background: ${({ theme }) => theme['bg-color-deep']};\r\n          color: ${({ theme }) => theme['gray-color']};\r\n        }\r\n      }\r\n    }\r\n    .atbd-chatbox__name{\r\n      font-size: 14px;\r\n      font-weight: 600;\r\n      span{\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        margin-left: 15px;\r\n        color: ${({ theme }) => theme['light-color']};\r\n      }\r\n    }\r\n    .atbd-chatbox__contentInner{\r\n      align-items: center;\r\n      .message-box + .message-box{\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n    .message-seen{\r\n      margin-top: 10px;\r\n      &.text-right{\r\n        text-align: ${({ theme }) => (theme.rtl ? 'left' : 'right')};\r\n      }\r\n      img{\r\n        max-width: 20px;\r\n        border-radius: 50%;\r\n      }\r\n      .message-seen__time{\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        color: ${({ theme }) => theme['light-color']};\r\n      }\r\n    }\r\n    .group-seen{\r\n      margin-top: 5px;\r\n      text-align: ${({ theme }) => (theme.rtl ? 'left' : 'right')};\r\n      img{\r\n        max-width: 20px;\r\n        &:not(:last-child){\r\n          ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 3px;\r\n        }\r\n      }\r\n    }\r\n    .atbd-chatbox__actions{\r\n      display: flex;\r\n      align-items: center\r\n      ${({ theme }) => (!theme.rtl ? 'margin-left' : 'margin-right')}: 15px;\r\n      @media only screen and (max-width: 767px){\r\n        flex-flow: column;\r\n      }\r\n      .ant-dropdown-trigger{\r\n        line-height: 1;\r\n        color: ${({ theme }) => theme['border-color-deep']};\r\n        .anticon-smile{\r\n          color: ${({ theme }) => theme['extra-light-color']};\r\n        }\r\n        &{\r\n          + .ant-dropdown-trigger{\r\n            ${({ theme }) => (!theme.rtl ? 'margin-left' : 'margin-right')}: 12px;\r\n            @media only screen and (max-width: 767px){\r\n              margin: 10px 0 0;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst MessageList = Styled.div`\r\n  display: block;\r\n  max-width: 670px;\r\n  font-size: 15px;\r\n  ${({ theme }) => (!theme.rtl ? 'border-radius: 0 15px 15px' : 'border-radius: 15px 0 15px 15px')};\r\n  padding: 18px 20px;\r\n  line-height: 1.67;\r\n  color: #fff;\r\n`;\r\n\r\nconst Footer = Styled.div`\r\n  padding: 0 25px;\r\n  .chatbox-reply-form{\r\n    position: relative;\r\n    margin-top: 20px;\r\n    align-items: center;\r\n    @media only screen and (max-width: 575px){\r\n      flex-flow: column;\r\n    }\r\n    .smile-icon{\r\n      position: relative;\r\n      position: absolute;\r\n      ${({ theme }) => (!theme.rtl ? 'left' : 'right')}: 25px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      display: flex;\r\n      align-items: center;\r\n      z-index: 9999;\r\n      @media only screen and (max-width: 575px){\r\n        top: 26px;\r\n      }\r\n      emoji-picker{\r\n          position: absolute;\r\n          z-index: 999999999;\r\n          bottom: 0;\r\n          @media only screen and (max-width: 991px){\r\n            right: auto;\r\n            left: 100%;\r\n          }\r\n          @media only screen and (max-width: 479px){\r\n            right: auto;\r\n            left: -35px;\r\n          }\r\n          .emoji-search{\r\n            padding: 8px;\r\n            height: auto;\r\n            border-radius: 5px;\r\n          }\r\n      }\r\n      .ant-dropdown-trigger{\r\n        display: flex;\r\n        align-items: center;\r\n      }\r\n      a{\r\n        display: flex;\r\n      }\r\n      svg,\r\n      i{\r\n        color: ${({ theme }) => theme['extra-light-color']};\r\n      }\r\n    }\r\n    &.hasFile{\r\n      .ant-upload-list{\r\n        &.ant-upload-list-text{\r\n          padding: 15px;\r\n        }\r\n      }\r\n\r\n    }\r\n    .ant-upload-list{\r\n      display: flex;\r\n      position: absolute;\r\n      top: -70px;\r\n      ${({ theme }) => (!theme.rtl ? 'left' : 'right')}: 0;\r\n    }\r\n    .chatbox-reply-input{\r\n      width: 100%;\r\n      ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 8px;\r\n      input{\r\n        padding: ${({ theme }) => (theme.rtl ? '0 70px 0 25px' : '0 25px 0 70px')};\r\n        height: 70px;\r\n        border: 0 none;\r\n        border-radius: 35px;\r\n        background: ${({ theme }) => theme['bg-color-normal']};\r\n        &::placeholder{\r\n          font-size: 14px;\r\n          color: ${({ theme }) => theme['light-color']};\r\n        }\r\n        &:focus{\r\n          border: 0 none;\r\n          outline: none;\r\n        }\r\n        @media only screen and (max-width: 575px){\r\n          height: 50px;\r\n          margin-bottom: 20px;\r\n        }\r\n      }\r\n    }\r\n    input,\r\n    span{\r\n      ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 8px;\r\n    }\r\n    .chatbox-reply-action{\r\n      align-items: center;\r\n      a{\r\n        span{\r\n          display: block;\r\n        }\r\n      }\r\n      .btn-send{\r\n        box-shadow: 0 8px 13px #5F63F220;\r\n      }\r\n      .ant-upload-select,\r\n      button{\r\n        min-width: 50px;\r\n        height: 50px;\r\n        border-radius: 50%;\r\n        display: inline-flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        span{\r\n          ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 0;\r\n          color: #fff;\r\n        }\r\n      }\r\n      .ant-upload-select {\r\n        background: ${({ theme }) => theme['bg-color-normal']};\r\n        .ant-upload{\r\n          ${({ theme }) => (theme.rtl ? 'margin-left' : 'margin-right')}: 0;\r\n          svg{\r\n            margin-top: 8px;\r\n            color: ${({ theme }) => theme['light-color']};\r\n          }\r\n        }\r\n      }\r\n      button{\r\n        padding: 0;\r\n        background: ${({ theme }) => theme['primary-color']};\r\n      }\r\n    }\r\n\r\n    .ant-upload-select-picture-card{\r\n      margin: 0;\r\n      width: 50px;\r\n      border-radius: 50% !important;\r\n      border: 0 none;\r\n      background-color: ${({ theme }) => theme['bg-color-normal']} !important;\r\n      svg,\r\n      i{\r\n        margin-top: 7px !important;\r\n      }\r\n    }\r\n    .ant-upload-list{\r\n      &.ant-upload-list-text{\r\n        display: block;\r\n        top: auto;\r\n        bottom: 136px;\r\n        background: #fff;\r\n        padding: 0;\r\n        border-radius: 5px;\r\n        box-shadow: 0 5px 20px #9299B803;\r\n        >div{\r\n          display: block;\r\n        }\r\n        .ant-upload-list-item{\r\n          height: 24px;\r\n          border-radius: 4px;\r\n          background-color: ${({ theme }) => theme['bg-color-normal']};\r\n          button{\r\n            width: auto;\r\n            height: auto;\r\n            min-width: auto;\r\n            background-color: ${({ theme }) => theme['bg-color-normal']};\r\n            svg{\r\n              color: ${({ theme }) => theme['info-color']};\r\n            }\r\n          }\r\n        }\r\n        .ant-upload-list-item-info{\r\n          >span{\r\n            display: flex;\r\n            align-items: center;\r\n          }\r\n          .ant-upload-list-item-name {\r\n            font-size: 13px;\r\n          }\r\n          .anticon,\r\n          .ant-upload-list-item-name {\r\n            color: ${({ theme }) => theme['info-color']};\r\n          }\r\n        }\r\n      }\r\n      &.ant-upload-list-picture-card{\r\n        .ant-upload-list-picture-card-container{\r\n          width: 60px;\r\n          height: 50px;\r\n        }\r\n        .ant-upload-list-item{\r\n          width: 60px;\r\n          height: 50px;\r\n          padding: 3px;\r\n          .ant-upload-list-item-actions{\r\n            .anticon-eye{\r\n              display: none;\r\n            }\r\n            .anticon{\r\n              margin: 0;\r\n            }\r\n          }\r\n          .ant-upload-list-item-card-actions-btn{\r\n            width: 25px;\r\n            height: 25px;\r\n            min-width: 25px;\r\n          }\r\n          .ant-upload-list-item-thumbnail{\r\n            font-size: 11px;\r\n          }\r\n          .ant-upload-list-item-name{\r\n            display: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ChatSidebar = Styled.div`\r\n  min-height: 550px;\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 0 5px 20px #9299B803;\r\n\r\n  .custom-scrollbar{\r\n    >div{\r\n      @media only screen and (max-width: 1800px){\r\n        ${({ theme }) => (theme.rtl ? 'margin-left: 0 !important;' : 'margin-left: auto !important;')}:;\r\n      }\r\n    }\r\n  }\r\n  @media only screen and (max-width: 991px){\r\n    max-width: 370px;\r\n    margin: 0 auto 40px;\r\n  }\r\n  @media only screen and (max-width: 575px){\r\n    min-height: 580px;\r\n  }\r\n  .ant-card-body{\r\n    padding: 28px 0 !important;\r\n  }\r\n  .chatbox-search{\r\n    padding: 0 25px;\r\n    @media only screen and (max-width: 379px){\r\n      padding: 0 20px;\r\n    }\r\n    .ant-select-selection-search{\r\n      width: 100% !important;\r\n    }\r\n  }\r\n  .ant-select-selector{\r\n    height: auto !important;\r\n  }\r\n  .ant-select-single .ant-select-selector .ant-select-selection-search-input{\r\n    border-radius: 23px;\r\n    background: ${({ theme }) => theme['bg-color-normal']};\r\n    border: 0 none;\r\n    input{\r\n      background: ${({ theme }) => theme['bg-color-normal']};\r\n      height: 46px !important;\r\n    }\r\n  }\r\n  nav{\r\n    padding: 0 25px;\r\n    @media only screen and (max-width: 1199px){\r\n      padding: 0 15px;\r\n    }\r\n    ul{\r\n      margin: 0 0 12px 0;\r\n      padding: 30px 0 0 0;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      border-bottom: 1px solid ${({ theme }) => theme['border-color-light']};\r\n      @media (max-width: 480px){\r\n        flex-direction: column;\r\n      }\r\n      li{\r\n        padding: 0;\r\n        a{\r\n          position: relative;\r\n          display: block;\r\n          padding: 0 0 18px;\r\n          font-weight: 400;\r\n          color: ${({ theme }) => theme['light-color']};\r\n          &:after{\r\n            position: absolute;\r\n            left: 0;\r\n            bottom: 0;\r\n            width: 100%;\r\n            height: 1px;\r\n            content: '';\r\n            opacity: 0;\r\n            visibility: hidden;\r\n            background: ${({ theme }) => theme['primary-color']};\r\n            @media only screen and (max-width: 1199px){\r\n              display: none;\r\n            }\r\n          }\r\n          &.active{\r\n            font-weight: 500;\r\n            color: ${({ theme }) => theme['primary-color']};\r\n            &:after{\r\n              opacity: 1;\r\n              visibility: visible;\r\n            }\r\n          }\r\n          .ant-badge{\r\n            ${({ theme }) => (!theme.rtl ? 'margin-left' : 'margin-right')}: 6px;\r\n          }\r\n          @media (max-width: 480px){\r\n            padding-bottom: 10px;\r\n            margin-bottom: 10px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst BackShadowEmoji = Styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background: #11121760;\r\n    position: fixed;\r\n    top: 0;\r\n    ${({ theme }) => (theme.rtl ? 'right' : 'left')}: 0;\r\n    z-index: 9999;\r\n`;\r\n\r\nexport { ChatWrapper, UL, Content, BlockSpan, MessageList, Footer, ChatSidebar, SingleChatWrapper, BackShadowEmoji };\r\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SingleChat.vue?vue&type=style&index=0&id=26a236da&scoped=true&lang=css\"","function assertNonEmptyString (str) {\n  if (typeof str !== 'string' || !str) {\n    throw new Error('expected a non-empty string, got: ' + str)\n  }\n}\n\nfunction assertNumber (number) {\n  if (typeof number !== 'number') {\n    throw new Error('expected a number, got: ' + number)\n  }\n}\n\nconst DB_VERSION_CURRENT = 1;\nconst DB_VERSION_INITIAL = 1;\nconst STORE_EMOJI = 'emoji';\nconst STORE_KEYVALUE = 'keyvalue';\nconst STORE_FAVORITES = 'favorites';\nconst FIELD_TOKENS = 'tokens';\nconst INDEX_TOKENS = 'tokens';\nconst FIELD_UNICODE = 'unicode';\nconst INDEX_COUNT = 'count';\nconst FIELD_GROUP = 'group';\nconst FIELD_ORDER = 'order';\nconst INDEX_GROUP_AND_ORDER = 'group-order';\nconst KEY_ETAG = 'eTag';\nconst KEY_URL = 'url';\nconst KEY_PREFERRED_SKINTONE = 'skinTone';\nconst MODE_READONLY = 'readonly';\nconst MODE_READWRITE = 'readwrite';\nconst INDEX_SKIN_UNICODE = 'skinUnicodes';\nconst FIELD_SKIN_UNICODE = 'skinUnicodes';\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\nfunction uniqEmoji (emojis) {\n  return uniqBy(emojis, _ => _.unicode)\n}\n\nfunction initialMigration (db) {\n  function createObjectStore (name, keyPath, indexes) {\n    const store = keyPath\n      ? db.createObjectStore(name, { keyPath })\n      : db.createObjectStore(name);\n    if (indexes) {\n      for (const [indexName, [keyPath, multiEntry]] of Object.entries(indexes)) {\n        store.createIndex(indexName, keyPath, { multiEntry });\n      }\n    }\n    return store\n  }\n\n  createObjectStore(STORE_KEYVALUE);\n  createObjectStore(STORE_EMOJI, /* keyPath */ FIELD_UNICODE, {\n    [INDEX_TOKENS]: [FIELD_TOKENS, /* multiEntry */ true],\n    [INDEX_GROUP_AND_ORDER]: [[FIELD_GROUP, FIELD_ORDER]],\n    [INDEX_SKIN_UNICODE]: [FIELD_SKIN_UNICODE, /* multiEntry */ true]\n  });\n  createObjectStore(STORE_FAVORITES, undefined, {\n    [INDEX_COUNT]: ['']\n  });\n}\n\nconst openReqs = {};\nconst databaseCache = {};\nconst onCloseListeners = {};\n\nfunction handleOpenOrDeleteReq (resolve, reject, req) {\n  // These things are almost impossible to test with fakeIndexedDB sadly\n  /* istanbul ignore next */\n  req.onerror = () => reject(req.error);\n  /* istanbul ignore next */\n  req.onblocked = () => reject(new Error('IDB blocked'));\n  req.onsuccess = () => resolve(req.result);\n}\n\nasync function createDatabase (dbName) {\n  const db = await new Promise((resolve, reject) => {\n    const req = indexedDB.open(dbName, DB_VERSION_CURRENT);\n    openReqs[dbName] = req;\n    req.onupgradeneeded = e => {\n      // Technically there is only one version, so we don't need this `if` check\n      // But if an old version of the JS is in another browser tab\n      // and it gets upgraded in the future and we have a new DB version, well...\n      // better safe than sorry.\n      /* istanbul ignore else */\n      if (e.oldVersion < DB_VERSION_INITIAL) {\n        initialMigration(req.result);\n      }\n    };\n    handleOpenOrDeleteReq(resolve, reject, req);\n  });\n  // Handle abnormal closes, e.g. \"delete database\" in chrome dev tools.\n  // No need for removeEventListener, because once the DB can no longer\n  // fire \"close\" events, it will auto-GC.\n  // Unfortunately cannot test in fakeIndexedDB: https://github.com/dumbmatter/fakeIndexedDB/issues/50\n  /* istanbul ignore next */\n  db.onclose = () => closeDatabase(dbName);\n  return db\n}\n\nfunction openDatabase (dbName) {\n  if (!databaseCache[dbName]) {\n    databaseCache[dbName] = createDatabase(dbName);\n  }\n  return databaseCache[dbName]\n}\n\nfunction dbPromise (db, storeName, readOnlyOrReadWrite, cb) {\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(storeName, readOnlyOrReadWrite);\n    const store = typeof storeName === 'string'\n      ? tx.objectStore(storeName)\n      : storeName.map(name => tx.objectStore(name));\n    let res;\n    cb(store, (result) => {\n      res = result;\n    });\n\n    tx.oncomplete = () => resolve(res);\n    /* istanbul ignore next */\n    tx.onerror = () => reject(tx.error);\n  })\n}\n\nfunction closeDatabase (dbName) {\n  // close any open requests\n  const req = openReqs[dbName];\n  const db = req && req.result;\n  if (db) {\n    db.close();\n    const listeners = onCloseListeners[dbName];\n    /* istanbul ignore else */\n    if (listeners) {\n      for (const listener of listeners) {\n        listener();\n      }\n    }\n  }\n  delete openReqs[dbName];\n  delete databaseCache[dbName];\n  delete onCloseListeners[dbName];\n}\n\nfunction deleteDatabase (dbName) {\n  return new Promise((resolve, reject) => {\n    // close any open requests\n    closeDatabase(dbName);\n    const req = indexedDB.deleteDatabase(dbName);\n    handleOpenOrDeleteReq(resolve, reject, req);\n  })\n}\n\n// The \"close\" event occurs during an abnormal shutdown, e.g. a user clearing their browser data.\n// However, it doesn't occur with the normal \"close\" event, so we handle that separately.\n// https://www.w3.org/TR/IndexedDB/#close-a-database-connection\nfunction addOnCloseListener (dbName, listener) {\n  let listeners = onCloseListeners[dbName];\n  if (!listeners) {\n    listeners = onCloseListeners[dbName] = [];\n  }\n  listeners.push(listener);\n}\n\n// list of emoticons that don't match a simple \\W+ regex\n// extracted using:\n// require('emojibase-data/en/data.json').map(_ => _.emoticon).filter(Boolean).filter(_ => !/^\\W+$/.test(_))\nconst irregularEmoticons = new Set([\n  ':D', 'xD', \":'D\", 'o:)',\n  ':x', ':p', ';p', 'xp',\n  ':l', ':z', ':j', '8D',\n  'xo', '8)', ':B', ':o',\n  ':s', \":'o\", 'Dx', 'x(',\n  'D:', ':c', '>0)', ':3',\n  '</3', '<3', '\\\\m/', ':E',\n  '8#'\n]);\n\nfunction extractTokens (str) {\n  return str\n    .split(/[\\s_]+/)\n    .map(word => {\n      if (!word.match(/\\w/) || irregularEmoticons.has(word)) {\n        // for pure emoticons like :) or :-), just leave them as-is\n        return word.toLowerCase()\n      }\n\n      return word\n        .replace(/[)(:,]/g, '')\n        .replace(/’/g, \"'\")\n        .toLowerCase()\n    }).filter(Boolean)\n}\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\n\n// This is an extra step in addition to extractTokens(). The difference here is that we expect\n// the input to have already been run through extractTokens(). This is useful for cases like\n// emoticons, where we don't want to do any tokenization (because it makes no sense to split up\n// \">:)\" by the colon) but we do want to lowercase it to have consistent search results, so that\n// the user can type ':P' or ':p' and still get the same result.\nfunction normalizeTokens (str) {\n  return str\n    .filter(Boolean)\n    .map(_ => _.toLowerCase())\n    .filter(_ => _.length >= MIN_SEARCH_TEXT_LENGTH)\n}\n\n// Transform emoji data for storage in IDB\nfunction transformEmojiData (emojiData) {\n  const res = emojiData.map(({ annotation, emoticon, group, order, shortcodes, skins, tags, emoji, version }) => {\n    const tokens = [...new Set(\n      normalizeTokens([\n        ...(shortcodes || []).map(extractTokens).flat(),\n        ...tags.map(extractTokens).flat(),\n        ...extractTokens(annotation),\n        emoticon\n      ])\n    )].sort();\n    const res = {\n      annotation,\n      group,\n      order,\n      tags,\n      tokens,\n      unicode: emoji,\n      version\n    };\n    if (emoticon) {\n      res.emoticon = emoticon;\n    }\n    if (shortcodes) {\n      res.shortcodes = shortcodes;\n    }\n    if (skins) {\n      res.skinTones = [];\n      res.skinUnicodes = [];\n      res.skinVersions = [];\n      for (const { tone, emoji, version } of skins) {\n        res.skinTones.push(tone);\n        res.skinUnicodes.push(emoji);\n        res.skinVersions.push(version);\n      }\n    }\n    return res\n  });\n  return res\n}\n\n// helper functions that help compress the code better\n\nfunction callStore (store, method, key, cb) {\n  store[method](key).onsuccess = e => (cb && cb(e.target.result));\n}\n\nfunction getIDB (store, key, cb) {\n  callStore(store, 'get', key, cb);\n}\n\nfunction getAllIDB (store, key, cb) {\n  callStore(store, 'getAll', key, cb);\n}\n\nfunction getAllKeysIDB (store, key, cb) {\n  callStore(store, 'getAllKeys', key, cb);\n}\n\n// like lodash's minBy\nfunction minBy (array, func) {\n  let minItem = array[0];\n  for (let i = 1; i < array.length; i++) {\n    const item = array[i];\n    if (func(minItem) > func(item)) {\n      minItem = item;\n    }\n  }\n  return minItem\n}\n\n// return an array of results representing all items that are found in each one of the arrays\n\nfunction findCommonMembers (arrays, uniqByFunc) {\n  const shortestArray = minBy(arrays, _ => _.length);\n  const results = [];\n  for (const item of shortestArray) {\n    // if this item is included in every array in the intermediate results, add it to the final results\n    if (!arrays.some(array => array.findIndex(_ => uniqByFunc(_) === uniqByFunc(item)) === -1)) {\n      results.push(item);\n    }\n  }\n  return results\n}\n\nasync function isEmpty (db) {\n  return !(await get(db, STORE_KEYVALUE, KEY_URL))\n}\n\nasync function hasData (db, url, eTag) {\n  const [oldETag, oldUrl] = await Promise.all([KEY_ETAG, KEY_URL]\n    .map(key => get(db, STORE_KEYVALUE, key)));\n  return (oldETag === eTag && oldUrl === url)\n}\n\nasync function doFullDatabaseScanForSingleResult (db, predicate) {\n  // This batching algorithm is just a perf improvement over a basic\n  // cursor. The BATCH_SIZE is an estimate of what would give the best\n  // perf for doing a full DB scan (worst case).\n  //\n  // Mini-benchmark for determining the best batch size:\n  //\n  // PERF=1 yarn build:rollup && yarn test:adhoc\n  //\n  // (async () => {\n  //   performance.mark('start')\n  //   await $('emoji-picker').database.getEmojiByShortcode('doesnotexist')\n  //   performance.measure('total', 'start')\n  //   console.log(performance.getEntriesByName('total').slice(-1)[0].duration)\n  // })()\n  const BATCH_SIZE = 50; // Typically around 150ms for 6x slowdown in Chrome for above benchmark\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => {\n    let lastKey;\n\n    const processNextBatch = () => {\n      emojiStore.getAll(lastKey && IDBKeyRange.lowerBound(lastKey, true), BATCH_SIZE).onsuccess = e => {\n        const results = e.target.result;\n        for (const result of results) {\n          lastKey = result.unicode;\n          if (predicate(result)) {\n            return cb(result)\n          }\n        }\n        if (results.length < BATCH_SIZE) {\n          return cb()\n        }\n        processNextBatch();\n      };\n    };\n    processNextBatch();\n  })\n}\n\nasync function loadData (db, emojiData, url, eTag) {\n  try {\n    const transformedData = transformEmojiData(emojiData);\n    await dbPromise(db, [STORE_EMOJI, STORE_KEYVALUE], MODE_READWRITE, ([emojiStore, metaStore]) => {\n      let oldETag;\n      let oldUrl;\n      let oldKeys;\n      let todo = 0;\n\n      function checkFetched () {\n        if (++todo === 3) {\n          onFetched();\n        }\n      }\n\n      function onFetched () {\n        if (oldETag === eTag && oldUrl === url) {\n          // check again within the transaction to guard against concurrency, e.g. multiple browser tabs\n          return\n        }\n        // delete old data\n        for (const key of oldKeys) {\n          emojiStore.delete(key);\n        }\n        // insert new data\n        for (const data of transformedData) {\n          emojiStore.put(data);\n        }\n        metaStore.put(eTag, KEY_ETAG);\n        metaStore.put(url, KEY_URL);\n      }\n\n      getIDB(metaStore, KEY_ETAG, result => {\n        oldETag = result;\n        checkFetched();\n      });\n\n      getIDB(metaStore, KEY_URL, result => {\n        oldUrl = result;\n        checkFetched();\n      });\n\n      getAllKeysIDB(emojiStore, undefined, result => {\n        oldKeys = result;\n        checkFetched();\n      });\n    });\n  } finally {\n  }\n}\n\nasync function getEmojiByGroup (db, group) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => {\n    const range = IDBKeyRange.bound([group, 0], [group + 1, 0], false, true);\n    getAllIDB(emojiStore.index(INDEX_GROUP_AND_ORDER), range, cb);\n  })\n}\n\nasync function getEmojiBySearchQuery (db, query) {\n  const tokens = normalizeTokens(extractTokens(query));\n\n  if (!tokens.length) {\n    return []\n  }\n\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => {\n    // get all results that contain all tokens (i.e. an AND query)\n    const intermediateResults = [];\n\n    const checkDone = () => {\n      if (intermediateResults.length === tokens.length) {\n        onDone();\n      }\n    };\n\n    const onDone = () => {\n      const results = findCommonMembers(intermediateResults, _ => _.unicode);\n      cb(results.sort((a, b) => a.order < b.order ? -1 : 1));\n    };\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      const range = i === tokens.length - 1\n        ? IDBKeyRange.bound(token, token + '\\uffff', false, true) // treat last token as a prefix search\n        : IDBKeyRange.only(token); // treat all other tokens as an exact match\n      getAllIDB(emojiStore.index(INDEX_TOKENS), range, result => {\n        intermediateResults.push(result);\n        checkDone();\n      });\n    }\n  })\n}\n\n// This could have been implemented as an IDB index on shortcodes, but it seemed wasteful to do that\n// when we can already query by tokens and this will give us what we're looking for 99.9% of the time\nasync function getEmojiByShortcode (db, shortcode) {\n  const emojis = await getEmojiBySearchQuery(db, shortcode);\n\n  // In very rare cases (e.g. the shortcode \"v\" as in \"v for victory\"), we cannot search because\n  // there are no usable tokens (too short in this case). In that case, we have to do an inefficient\n  // full-database scan, which I believe is an acceptable tradeoff for not having to have an extra\n  // index on shortcodes.\n\n  if (!emojis.length) {\n    const predicate = _ => ((_.shortcodes || []).includes(shortcode.toLowerCase()));\n    return (await doFullDatabaseScanForSingleResult(db, predicate)) || null\n  }\n\n  return emojis.filter(_ => {\n    const lowerShortcodes = (_.shortcodes || []).map(_ => _.toLowerCase());\n    return lowerShortcodes.includes(shortcode.toLowerCase())\n  })[0] || null\n}\n\nasync function getEmojiByUnicode (db, unicode) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => (\n    getIDB(emojiStore, unicode, result => {\n      if (result) {\n        return cb(result)\n      }\n      getIDB(emojiStore.index(INDEX_SKIN_UNICODE), unicode, result => cb(result || null));\n    })\n  ))\n}\n\nfunction get (db, storeName, key) {\n  return dbPromise(db, storeName, MODE_READONLY, (store, cb) => (\n    getIDB(store, key, cb)\n  ))\n}\n\nfunction set (db, storeName, key, value) {\n  return dbPromise(db, storeName, MODE_READWRITE, (store) => (\n    store.put(value, key)\n  ))\n}\n\nfunction incrementFavoriteEmojiCount (db, unicode) {\n  return dbPromise(db, STORE_FAVORITES, MODE_READWRITE, (store) => {\n    getIDB(store, unicode, result => (\n      store.put((result || 0) + 1, unicode)\n    ));\n  })\n}\n\nfunction getTopFavoriteEmoji (db, customEmojiIndex, limit) {\n  if (limit === 0) {\n    return []\n  }\n  return dbPromise(db, [STORE_FAVORITES, STORE_EMOJI], MODE_READONLY, ([favoritesStore, emojiStore], cb) => {\n    const results = [];\n    favoritesStore.index(INDEX_COUNT).openCursor(undefined, 'prev').onsuccess = e => {\n      const cursor = e.target.result;\n      if (!cursor) { // no more results\n        return cb(results)\n      }\n\n      function addResult (result) {\n        results.push(result);\n        if (results.length === limit) {\n          return cb(results) // done, reached the limit\n        }\n        cursor.continue();\n      }\n\n      const unicodeOrName = cursor.primaryKey;\n      const custom = customEmojiIndex.byName(unicodeOrName);\n      if (custom) {\n        return addResult(custom)\n      }\n      // This could be done in parallel (i.e. make the cursor and the get()s parallelized),\n      // but my testing suggests it's not actually faster.\n      getIDB(emojiStore, unicodeOrName, emoji => {\n        if (emoji) {\n          return addResult(emoji)\n        }\n        // emoji not found somehow, ignore (may happen if custom emoji change)\n        cursor.continue();\n      });\n    };\n  })\n}\n\n// @rollup/plugin-strip doesn't strip console.logs properly\n\nfunction log () {\n}\n\nfunction warn () {\n  /* istanbul ignore if */\n  {\n    console.warn(...arguments);\n  }\n}\n\n// trie data structure for prefix searches\n// loosely based on https://github.com/nolanlawson/substring-trie\n\nconst CODA_MARKER = ''; // marks the end of the string\n\nfunction trie (arr, itemToTokens) {\n  const map = new Map();\n  for (const item of arr) {\n    const tokens = itemToTokens(item);\n    for (const token of tokens) {\n      let currentMap = map;\n      for (let i = 0; i < token.length; i++) {\n        const char = token.charAt(i);\n        let nextMap = currentMap.get(char);\n        if (!nextMap) {\n          nextMap = new Map();\n          currentMap.set(char, nextMap);\n        }\n        currentMap = nextMap;\n      }\n      let valuesAtCoda = currentMap.get(CODA_MARKER);\n      if (!valuesAtCoda) {\n        valuesAtCoda = [];\n        currentMap.set(CODA_MARKER, valuesAtCoda);\n      }\n      valuesAtCoda.push(item);\n    }\n  }\n\n  const search = (query, exact) => {\n    let currentMap = map;\n    for (let i = 0; i < query.length; i++) {\n      const char = query.charAt(i);\n      const nextMap = currentMap.get(char);\n      if (nextMap) {\n        currentMap = nextMap;\n      } else {\n        return []\n      }\n    }\n\n    if (exact) {\n      const results = currentMap.get(CODA_MARKER);\n      return results || []\n    }\n\n    const results = [];\n    // traverse\n    const queue = [currentMap];\n    while (queue.length) {\n      const currentMap = queue.shift();\n      const entriesSortedByKey = [...currentMap.entries()].sort((a, b) => a[0] < b[0] ? -1 : 1);\n      for (const [key, value] of entriesSortedByKey) {\n        if (key === CODA_MARKER) { // CODA_MARKER always comes first; it's the empty string\n          results.push(...value);\n        } else {\n          queue.push(value);\n        }\n      }\n    }\n    return results\n  };\n\n  return search\n}\n\nconst requiredKeys = [\n  'name',\n  'url'\n];\n\nfunction assertCustomEmojis (customEmojis) {\n  const isArray = customEmojis && Array.isArray(customEmojis);\n  const firstItemIsFaulty = isArray &&\n    customEmojis.length &&\n    (!customEmojis[0] || requiredKeys.some(key => !(key in customEmojis[0])));\n  if (!isArray || firstItemIsFaulty) {\n    throw new Error('Custom emojis are in the wrong format')\n  }\n}\n\nfunction customEmojiIndex (customEmojis) {\n  assertCustomEmojis(customEmojis);\n\n  const sortByName = (a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1;\n\n  //\n  // all()\n  //\n  const all = customEmojis.sort(sortByName);\n\n  //\n  // search()\n  //\n  const emojiToTokens = emoji => (\n    [...new Set((emoji.shortcodes || []).map(shortcode => extractTokens(shortcode)).flat())]\n  );\n  const searchTrie = trie(customEmojis, emojiToTokens);\n  const searchByExactMatch = _ => searchTrie(_, true);\n  const searchByPrefix = _ => searchTrie(_, false);\n\n  // Search by query for custom emoji. Similar to how we do this in IDB, the last token\n  // is treated as a prefix search, but every other one is treated as an exact match.\n  // Then we AND the results together\n  const search = query => {\n    const tokens = extractTokens(query);\n    const intermediateResults = tokens.map((token, i) => (\n      (i < tokens.length - 1 ? searchByExactMatch : searchByPrefix)(token)\n    ));\n    return findCommonMembers(intermediateResults, _ => _.name).sort(sortByName)\n  };\n\n  //\n  // byShortcode, byName\n  //\n  const shortcodeToEmoji = new Map();\n  const nameToEmoji = new Map();\n  for (const customEmoji of customEmojis) {\n    nameToEmoji.set(customEmoji.name.toLowerCase(), customEmoji);\n    for (const shortcode of (customEmoji.shortcodes || [])) {\n      shortcodeToEmoji.set(shortcode.toLowerCase(), customEmoji);\n    }\n  }\n\n  const byShortcode = shortcode => shortcodeToEmoji.get(shortcode.toLowerCase());\n  const byName = name => nameToEmoji.get(name.toLowerCase());\n\n  return {\n    all,\n    search,\n    byShortcode,\n    byName\n  }\n}\n\n// remove some internal implementation details, i.e. the \"tokens\" array on the emoji object\n// essentially, convert the emoji from the version stored in IDB to the version used in-memory\nfunction cleanEmoji (emoji) {\n  if (!emoji) {\n    return emoji\n  }\n  delete emoji.tokens;\n  if (emoji.skinTones) {\n    const len = emoji.skinTones.length;\n    emoji.skins = Array(len);\n    for (let i = 0; i < len; i++) {\n      emoji.skins[i] = {\n        tone: emoji.skinTones[i],\n        unicode: emoji.skinUnicodes[i],\n        version: emoji.skinVersions[i]\n      };\n    }\n    delete emoji.skinTones;\n    delete emoji.skinUnicodes;\n    delete emoji.skinVersions;\n  }\n  return emoji\n}\n\nfunction warnETag (eTag) {\n  if (!eTag) {\n    warn('emoji-picker-element is more efficient if the dataSource server exposes an ETag header.');\n  }\n}\n\nconst requiredKeys$1 = [\n  'annotation',\n  'emoji',\n  'group',\n  'order',\n  'tags',\n  'version'\n];\n\nfunction assertEmojiData (emojiData) {\n  if (!emojiData ||\n    !Array.isArray(emojiData) ||\n    !emojiData[0] ||\n    (typeof emojiData[0] !== 'object') ||\n    requiredKeys$1.some(key => (!(key in emojiData[0])))) {\n    throw new Error('Emoji data is in the wrong format')\n  }\n}\n\nfunction assertStatus (response, dataSource) {\n  if (Math.floor(response.status / 100) !== 2) {\n    throw new Error('Failed to fetch: ' + dataSource + ':  ' + response.status)\n  }\n}\n\nasync function getETag (dataSource) {\n  const response = await fetch(dataSource, { method: 'HEAD' });\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get('etag');\n  warnETag(eTag);\n  return eTag\n}\n\nasync function getETagAndData (dataSource) {\n  const response = await fetch(dataSource);\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get('etag');\n  warnETag(eTag);\n  const emojiData = await response.json();\n  assertEmojiData(emojiData);\n  return [eTag, emojiData]\n}\n\n// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\n// generate a checksum based on the stringified JSON\nasync function jsonChecksum (object) {\n  const inString = JSON.stringify(object);\n  const inBuffer = binaryStringToArrayBuffer(inString);\n  // this does not need to be cryptographically secure, SHA-1 is fine\n  const outBuffer = await crypto.subtle.digest('SHA-1', inBuffer);\n  const outBinString = arrayBufferToBinaryString(outBuffer);\n  const res = btoa(outBinString);\n  return res\n}\n\nasync function checkForUpdates (db, dataSource) {\n  // just do a simple HEAD request first to see if the eTags match\n  let emojiData;\n  let eTag = await getETag(dataSource);\n  if (!eTag) { // work around lack of ETag/Access-Control-Expose-Headers\n    const eTagAndData = await getETagAndData(dataSource);\n    eTag = eTagAndData[0];\n    emojiData = eTagAndData[1];\n    if (!eTag) {\n      eTag = await jsonChecksum(emojiData);\n    }\n  }\n  if (await hasData(db, dataSource, eTag)) ; else {\n    if (!emojiData) {\n      const eTagAndData = await getETagAndData(dataSource);\n      emojiData = eTagAndData[1];\n    }\n    await loadData(db, emojiData, dataSource, eTag);\n  }\n}\n\nasync function loadDataForFirstTime (db, dataSource) {\n  let [eTag, emojiData] = await getETagAndData(dataSource);\n  if (!eTag) {\n    // Handle lack of support for ETag or Access-Control-Expose-Headers\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers#Browser_compatibility\n    eTag = await jsonChecksum(emojiData);\n  }\n\n  await loadData(db, emojiData, dataSource, eTag);\n}\n\nclass Database {\n  constructor ({ dataSource = DEFAULT_DATA_SOURCE, locale = DEFAULT_LOCALE, customEmoji = [] } = {}) {\n    this.dataSource = dataSource;\n    this.locale = locale;\n    this._dbName = `emoji-picker-element-${this.locale}`;\n    this._db = undefined;\n    this._lazyUpdate = undefined;\n    this._custom = customEmojiIndex(customEmoji);\n\n    this._clear = this._clear.bind(this);\n    this._ready = this._init();\n  }\n\n  async _init () {\n    const db = this._db = await openDatabase(this._dbName);\n\n    addOnCloseListener(this._dbName, this._clear);\n    const dataSource = this.dataSource;\n    const empty = await isEmpty(db);\n\n    if (empty) {\n      await loadDataForFirstTime(db, dataSource);\n    } else { // offline-first - do an update asynchronously\n      this._lazyUpdate = checkForUpdates(db, dataSource);\n    }\n  }\n\n  async ready () {\n    if (!this._ready) {\n      this._ready = this._init();\n    }\n    return this._ready\n  }\n\n  async getEmojiByGroup (group) {\n    assertNumber(group);\n    await this.ready();\n    return uniqEmoji(await getEmojiByGroup(this._db, group)).map(cleanEmoji)\n  }\n\n  async getEmojiBySearchQuery (query) {\n    assertNonEmptyString(query);\n    await this.ready();\n    const customs = this._custom.search(query);\n    const natives = uniqEmoji(await getEmojiBySearchQuery(this._db, query)).map(cleanEmoji);\n    return [\n      ...customs,\n      ...natives\n    ]\n  }\n\n  async getEmojiByShortcode (shortcode) {\n    assertNonEmptyString(shortcode);\n    await this.ready();\n    const custom = this._custom.byShortcode(shortcode);\n    if (custom) {\n      return custom\n    }\n    return cleanEmoji(await getEmojiByShortcode(this._db, shortcode))\n  }\n\n  async getEmojiByUnicodeOrName (unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    const custom = this._custom.byName(unicodeOrName);\n    if (custom) {\n      return custom\n    }\n    return cleanEmoji(await getEmojiByUnicode(this._db, unicodeOrName))\n  }\n\n  async getPreferredSkinTone () {\n    await this.ready();\n    return (await get(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE)) || 0\n  }\n\n  async setPreferredSkinTone (skinTone) {\n    assertNumber(skinTone);\n    await this.ready();\n    return set(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE, skinTone)\n  }\n\n  async incrementFavoriteEmojiCount (unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    return incrementFavoriteEmojiCount(this._db, unicodeOrName)\n  }\n\n  async getTopFavoriteEmoji (limit) {\n    assertNumber(limit);\n    await this.ready();\n    return (await getTopFavoriteEmoji(this._db, this._custom, limit)).map(cleanEmoji)\n  }\n\n  set customEmoji (customEmojis) {\n    this._custom = customEmojiIndex(customEmojis);\n  }\n\n  get customEmoji () {\n    return this._custom.all\n  }\n\n  async _shutdown () {\n    await this.ready(); // reopen if we've already been closed/deleted\n    try {\n      await this._lazyUpdate; // allow any lazy updates to process before closing/deleting\n    } catch (err) { /* ignore network errors (offline-first) */ }\n    return !!this._db // return true if we need to actually run the close/delete logic\n  }\n\n  // clear references to IDB, e.g. during a close event\n  _clear () {\n    log('_clear database', this._dbName);\n    // We don't need to call removeEventListener or remove the manual \"close\" listeners.\n    // The memory leak tests prove this is unnecessary. It's because:\n    // 1) IDBDatabases that can no longer fire \"close\" automatically have listeners GCed\n    // 2) we clear the manual close listeners in databaseLifecycle.js.\n    this._db = this._ready = this._lazyUpdate = undefined;\n  }\n\n  async close () {\n    if (await this._shutdown()) {\n      await closeDatabase(this._dbName);\n    }\n  }\n\n  async delete () {\n    if (await this._shutdown()) {\n      await deleteDatabase(this._dbName);\n    }\n  }\n}\n\nexport default Database;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAADGUlEQVRoQ+1Yy4rqQBCtEWEERVBRfDAiioqIuHQx4F/7A+5cigyiCxGd0YWoICoK4r2chgplTEzS1xmYS3rjo7uqT586XanKS6fT+UO/cLz4wH84aj7jP0w4+Yz7jLtkwJeKS6KetsyR8UajQZlMhj4+Pujr60ttnMvlqF6vUzAYpMvlcjOni6zVatHr6yt1u13DRbvdpvP5TL1e787tQ+CJRIKazaYCyMABular0Ww2o/F4rIvzzo73Wq1WNBgMCIQlk0nq9/u0Xq+9AYdxNBpVTIxGI8U4mMGwYuFfT8FgsVe5XKbFYmFLji3jYLZardJ8Pqe3tzcD+Pv7O12vV4rFYgrnfr9X4eX1u92OUqmUmgNTOKCUgVPEIA8eUjZmUmyBw8F2u6XNZqMOABZOp5OSDgZCiIHfCC/WQfdYwwdhSeEAYBMMptNp5RdysBqVSoXy+TwNh0PjTlmtswQu5cBMSuCsQzjktZ+fn8YB+RJLPwBULBbpeDzeXEAJCjrHATEQVU+My4whncLRZDK5Y8wtcPbLEbFikSWFRMARsksAjulQMg4m5W0PhUJGhjkcDkoqy+VSyUBq2Y1UHu3jOatwzmaNSwkgrBi4vAwU6zBwIDnHFw6hh2QKhQJNp1MjY3AqxOE5W1n9J6PkyLjbFGdmzK2d7jof+K9lXDfkunZPk4ouAF07H7guc7p2PuO6zOnaaTHOdQc/3nlzPCEjkcjNU1MXmJOdFnAUQ3gk8+Memzxqs5xA6Mx7Bg62S6USBQIB1SigTkH9kc1m1XergkgHmJONZ+DcYKAD4oaAW7xwOHzXQGM9avB4PK7mUNaiCUHEZMPgNWKegAMgAKPK4wOAZUgH/6NeR/0sWzWsQ7XIzbYEyLU8DsZ+nZjmedfAzXIwA5evFuRa1OiyVZNzAGF+i/B04DJjSOfQtJkxt8Bha47I04GbHUrGzZ27lINsIszZ50ek8gg45rgZRrbhVxYMFJ+c33lOviHjtweyA3Ji3rXGnRzZzcvI6PqwsvOB/3eMP1Me0te3S8UHbmLAZ/y7JGHn99cy/heH196xnilRMwAAAABJRU5ErkJggg==\""],"sourceRoot":""}